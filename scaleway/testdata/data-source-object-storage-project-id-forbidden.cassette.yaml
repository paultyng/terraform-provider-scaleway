---
version: 1
interactions:
- request:
    body: '{"name":"test-acc-scaleway-project-2263470678640781730","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","description":null}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.5; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/account/v2/projects
    method: POST
  response:
    body: '{"created_at":"2023-01-20T16:18:12.857206Z","description":"","id":"365df772-a2b9-472c-8c52-aea280f42c46","name":"test-acc-scaleway-project-2263470678640781730","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","updated_at":"2023-01-20T16:18:12.857206Z"}'
    headers:
      Content-Length:
      - "265"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Fri, 20 Jan 2023 16:18:13 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 4b9d6709-d689-4558-9dc4-569a2ec7e8a7
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"name":"test-acc-scaleway-iam-app-8888423022238564524","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","description":""}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.5; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications
    method: POST
  response:
    body: '{"created_at":"2023-01-20T16:18:13.812536Z","description":"","editable":true,"id":"bfdc4010-340b-4106-9ec7-463129994f70","name":"test-acc-scaleway-iam-app-8888423022238564524","nb_api_keys":0,"organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","updated_at":"2023-01-20T16:18:13.812536Z"}'
    headers:
      Content-Length:
      - "299"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Fri, 20 Jan 2023 16:18:13 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - acb0d0a1-152c-48ba-9c70-8e5c60e06231
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"name":"test-acc-scaleway-iam-policy-440924274317090312","description":"","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","rules":[{"permission_set_names":["ObjectStorageReadOnly","ObjectStorageObjectsRead","ObjectStorageBucketsRead"],"project_ids":["365df772-a2b9-472c-8c52-aea280f42c46"]}],"application_id":"bfdc4010-340b-4106-9ec7-463129994f70"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.5; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies
    method: POST
  response:
    body: '{"application_id":"bfdc4010-340b-4106-9ec7-463129994f70","created_at":"2023-01-20T16:18:13.892378Z","description":"","editable":true,"id":"de7bffa8-f1fa-4156-8e24-9a5fa05264e7","name":"test-acc-scaleway-iam-policy-440924274317090312","nb_permission_sets":0,"nb_rules":0,"nb_scopes":0,"organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","updated_at":"2023-01-20T16:18:13.892378Z"}'
    headers:
      Content-Length:
      - "384"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Fri, 20 Jan 2023 16:18:13 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - df6eb2a9-38e0-4cad-ae19-940190a629cb
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"application_id":"bfdc4010-340b-4106-9ec7-463129994f70","expires_at":null,"default_project_id":"365df772-a2b9-472c-8c52-aea280f42c46","description":""}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.5; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys
    method: POST
  response:
    body: '{"access_key":"SCW67C4KGBXFVB6HHKGK","application_id":"bfdc4010-340b-4106-9ec7-463129994f70","created_at":"2023-01-20T16:18:14.082848Z","creation_ip":"31.34.226.140","default_project_id":"365df772-a2b9-472c-8c52-aea280f42c46","description":"","editable":true,"expires_at":null,"secret_key":"00000000-0000-0000-0000-000000000000","updated_at":"2023-01-20T16:18:14.082848Z"}'
    headers:
      Content-Length:
      - "372"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Fri, 20 Jan 2023 16:18:14 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - a61d9324-7951-4b6a-9f6b-28ea264a2559
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: <CreateBucketConfiguration xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><LocationConstraint>fr-par</LocationConstraint></CreateBucketConfiguration>
    form: {}
    headers:
      Content-Length:
      - "150"
      User-Agent:
      - aws-sdk-go/1.44.171 (go1.19.5; darwin; amd64)
      X-Amz-Acl:
      - private
      X-Amz-Bucket-Object-Lock-Enabled:
      - "false"
      X-Amz-Content-Sha256:
      - 2cb57fad7b7168921a4c94426cfcb9ee2953f126430595df844e22d50f029060
      X-Amz-Date:
      - 20230120T161814Z
    url: https://test-acc-scaleway-object-bucket-8472944164314278030.s3.fr-par.scw.cloud/
    method: PUT
  response:
    body: ""
    headers:
      Content-Length:
      - "0"
      Content-Type:
      - text/html; charset=UTF-8
      Date:
      - Fri, 20 Jan 2023 16:18:16 GMT
      Location:
      - /test-acc-scaleway-object-bucket-8472944164314278030
      X-Amz-Id-2:
      - txe2ac789d35f14e05b3854-0063cabec6
      X-Amz-Request-Id:
      - txe2ac789d35f14e05b3854-0063cabec6
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Content-Md5:
      - 1B2M2Y8AsgTpgAmY7PhCfg==
      User-Agent:
      - aws-sdk-go/1.44.171 (go1.19.5; darwin; amd64)
      X-Amz-Acl:
      - private
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20230120T161816Z
    url: https://test-acc-scaleway-object-bucket-8472944164314278030.s3.fr-par.scw.cloud/?acl=
    method: PUT
  response:
    body: ""
    headers:
      Content-Length:
      - "0"
      Content-Type:
      - text/html; charset=UTF-8
      Date:
      - Fri, 20 Jan 2023 16:18:18 GMT
      X-Amz-Id-2:
      - tx69754ab2e8ab4337aa331-0063cabec8
      X-Amz-Request-Id:
      - tx69754ab2e8ab4337aa331-0063cabec8
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.171 (go1.19.5; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20230120T161818Z
    url: https://test-acc-scaleway-object-bucket-8472944164314278030.s3.fr-par.scw.cloud/?acl=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <AccessControlPolicy xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Owner><ID>105bdce1-64c0-48ab-899d-868455867ecf:105bdce1-64c0-48ab-899d-868455867ecf</ID><DisplayName>105bdce1-64c0-48ab-899d-868455867ecf:105bdce1-64c0-48ab-899d-868455867ecf</DisplayName></Owner><AccessControlList><Grant><Grantee xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CanonicalUser"><ID>105bdce1-64c0-48ab-899d-868455867ecf:105bdce1-64c0-48ab-899d-868455867ecf</ID><DisplayName>105bdce1-64c0-48ab-899d-868455867ecf:105bdce1-64c0-48ab-899d-868455867ecf</DisplayName></Grantee><Permission>FULL_CONTROL</Permission></Grant></AccessControlList></AccessControlPolicy>
    headers:
      Content-Length:
      - "698"
      Content-Type:
      - text/html; charset=UTF-8
      Date:
      - Fri, 20 Jan 2023 16:18:18 GMT
      X-Amz-Id-2:
      - tx96e9e2a251e445eea849a-0063cabeca
      X-Amz-Request-Id:
      - tx96e9e2a251e445eea849a-0063cabeca
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.171 (go1.19.5; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20230120T161818Z
    url: https://test-acc-scaleway-object-bucket-8472944164314278030.s3.fr-par.scw.cloud/?object-lock=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <Error><Code>ObjectLockConfigurationNotFoundError</Code><Message>Object Lock configuration does not exist for this bucket</Message><RequestId>tx893b427acc47460eba241-0063cabeca</RequestId></Error>
    headers:
      Content-Type:
      - application/xml
      Date:
      - Fri, 20 Jan 2023 16:18:18 GMT
      X-Amz-Id-2:
      - tx893b427acc47460eba241-0063cabeca
      X-Amz-Request-Id:
      - tx893b427acc47460eba241-0063cabeca
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.171 (go1.19.5; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20230120T161818Z
    url: https://test-acc-scaleway-object-bucket-8472944164314278030.s3.fr-par.scw.cloud/
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>test-acc-scaleway-object-bucket-8472944164314278030</Name><Prefix/><Delimiter/><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Marker/></ListBucketResult>
    headers:
      Content-Length:
      - "273"
      Content-Type:
      - application/xml
      Date:
      - Fri, 20 Jan 2023 16:18:19 GMT
      X-Amz-Id-2:
      - tx205c8f153530402ea8600-0063cabeca
      X-Amz-Request-Id:
      - tx205c8f153530402ea8600-0063cabeca
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.171 (go1.19.5; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20230120T161819Z
    url: https://test-acc-scaleway-object-bucket-8472944164314278030.s3.fr-par.scw.cloud/?tagging=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <Error><Code>NoSuchTagSet</Code><Message>There is no tag set associated with the bucket or object.</Message><RequestId>tx241d18c06a8642d484f05-0063cabecb</RequestId><Headers/></Error>
    headers:
      Content-Type:
      - application/xml
      Date:
      - Fri, 20 Jan 2023 16:18:19 GMT
      X-Amz-Id-2:
      - tx241d18c06a8642d484f05-0063cabecb
      X-Amz-Request-Id:
      - tx241d18c06a8642d484f05-0063cabecb
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.171 (go1.19.5; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20230120T161819Z
    url: https://test-acc-scaleway-object-bucket-8472944164314278030.s3.fr-par.scw.cloud/?cors=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <Error><Code>NoSuchCORSConfiguration</Code><Message>The CORS configuration does not exist</Message><RequestId>txd690b5c7c4f14caba8dbd-0063cabecb</RequestId></Error>
    headers:
      Content-Type:
      - application/xml
      Date:
      - Fri, 20 Jan 2023 16:18:20 GMT
      X-Amz-Id-2:
      - txd690b5c7c4f14caba8dbd-0063cabecb
      X-Amz-Request-Id:
      - txd690b5c7c4f14caba8dbd-0063cabecb
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.171 (go1.19.5; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20230120T161820Z
    url: https://test-acc-scaleway-object-bucket-8472944164314278030.s3.fr-par.scw.cloud/?versioning=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <VersioningConfiguration xmlns="http://s3.amazonaws.com/doc/2006-03-01/"/>
    headers:
      Content-Length:
      - "113"
      Content-Type:
      - text/plain
      Date:
      - Fri, 20 Jan 2023 16:18:20 GMT
      X-Amz-Id-2:
      - txadf73ede06ac4c259248d-0063cabecc
      X-Amz-Request-Id:
      - txadf73ede06ac4c259248d-0063cabecc
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.171 (go1.19.5; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20230120T161820Z
    url: https://test-acc-scaleway-object-bucket-8472944164314278030.s3.fr-par.scw.cloud/?lifecycle=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <Error><Code>NoSuchLifecycleConfiguration</Code><Message>The lifecycle configuration does not exist.</Message><RequestId>txb342c65b72f948aa9a679-0063cabecc</RequestId></Error>
    headers:
      Content-Type:
      - application/xml
      Date:
      - Fri, 20 Jan 2023 16:18:21 GMT
      X-Amz-Id-2:
      - txb342c65b72f948aa9a679-0063cabecc
      X-Amz-Request-Id:
      - txb342c65b72f948aa9a679-0063cabecc
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.171 (go1.19.5; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20230120T161821Z
    url: https://test-acc-scaleway-object-bucket-8472944164314278030.s3.fr-par.scw.cloud/
    method: HEAD
  response:
    body: ""
    headers:
      Content-Length:
      - "0"
      Content-Type:
      - application/xml
      Date:
      - Fri, 20 Jan 2023 16:18:22 GMT
      X-Amz-Id-2:
      - tx29927401bf514982b4fd3-0063cabecd
      X-Amz-Request-Id:
      - tx29927401bf514982b4fd3-0063cabecd
    status: 403 Forbidden
    code: 403
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.171 (go1.19.5; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20230120T161822Z
    url: https://test-acc-scaleway-object-bucket-8472944164314278030.s3.fr-par.scw.cloud/
    method: DELETE
  response:
    body: ""
    headers:
      Content-Length:
      - "0"
      Content-Type:
      - text/html; charset=UTF-8
      Date:
      - Fri, 20 Jan 2023 16:18:24 GMT
      X-Amz-Id-2:
      - txa11dd4a5b43b4ba3ab618-0063cabece
      X-Amz-Request-Id:
      - txa11dd4a5b43b4ba3ab618-0063cabece
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.5; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCW67C4KGBXFVB6HHKGK
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Fri, 20 Jan 2023 16:18:24 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 82f02187-216b-4918-bcb9-9a2da042ecbf
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.5; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/de7bffa8-f1fa-4156-8e24-9a5fa05264e7
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Fri, 20 Jan 2023 16:18:24 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 9efa54b4-5811-4e5f-a45d-26a283fcde1e
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.5; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications/bfdc4010-340b-4106-9ec7-463129994f70
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Fri, 20 Jan 2023 16:18:24 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - f3ad2629-5f4c-4860-b30b-327d45a650aa
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.5; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/account/v2/projects/365df772-a2b9-472c-8c52-aea280f42c46
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Fri, 20 Jan 2023 16:18:25 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 0b201207-24d7-418f-a22b-2116ff06fd1f
    status: 204 No Content
    code: 204
    duration: ""

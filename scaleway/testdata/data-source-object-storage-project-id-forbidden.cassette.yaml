---
version: 1
interactions:
- request:
    body: '{"name":"test-acc-scaleway-project-3811434791785235765","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","description":null}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.5; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/account/v2/projects
    method: POST
  response:
    body: '{"created_at":"2023-02-16T13:15:13.490886Z","description":"","id":"40e7ded8-2203-4619-955b-dc7a64cb732d","name":"test-acc-scaleway-project-3811434791785235765","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","updated_at":"2023-02-16T13:15:13.490886Z"}'
    headers:
      Content-Length:
      - "260"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 16 Feb 2023 13:15:14 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 0a2bbf1e-56ad-4bbf-9903-52bd271483bf
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"name":"test-acc-scaleway-iam-app-2672982849097850432","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","description":""}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.5; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications
    method: POST
  response:
    body: '{"created_at":"2023-02-16T13:15:14.958869Z","description":"","editable":true,"id":"90711614-9732-463d-9726-9ff64e2a0642","name":"test-acc-scaleway-iam-app-2672982849097850432","nb_api_keys":0,"organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","updated_at":"2023-02-16T13:15:14.958869Z"}'
    headers:
      Content-Length:
      - "292"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 16 Feb 2023 13:15:14 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 51e589d9-6828-45b9-8c3f-9d49f3a7eb57
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"name":"test-acc-scaleway-iam-policy-4911887126693234375","description":"","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","rules":[{"permission_set_names":["ObjectStorageReadOnly","ObjectStorageObjectsRead","ObjectStorageBucketsRead"],"project_ids":["40e7ded8-2203-4619-955b-dc7a64cb732d"]}],"application_id":"90711614-9732-463d-9726-9ff64e2a0642"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.5; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies
    method: POST
  response:
    body: '{"application_id":"90711614-9732-463d-9726-9ff64e2a0642","created_at":"2023-02-16T13:15:15.034089Z","description":"","editable":true,"id":"cb5909e6-1270-4292-b975-69797860da55","name":"test-acc-scaleway-iam-policy-4911887126693234375","nb_permission_sets":0,"nb_rules":0,"nb_scopes":0,"organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","updated_at":"2023-02-16T13:15:15.034089Z"}'
    headers:
      Content-Length:
      - "385"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 16 Feb 2023 13:15:15 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 6d107e86-ae01-4702-8e5a-cbbbe8208101
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"application_id":"90711614-9732-463d-9726-9ff64e2a0642","expires_at":null,"default_project_id":"40e7ded8-2203-4619-955b-dc7a64cb732d","description":""}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.5; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys
    method: POST
  response:
    body: '{"access_key":"SCW71PY9JV1RF32NB2M0","application_id":"90711614-9732-463d-9726-9ff64e2a0642","created_at":"2023-02-16T13:15:15.194168Z","creation_ip":"130.180.219.188","default_project_id":"40e7ded8-2203-4619-955b-dc7a64cb732d","description":"","editable":true,"expires_at":null,"secret_key":"00000000-0000-0000-0000-000000000000","updated_at":"2023-02-16T13:15:15.194168Z"}'
    headers:
      Content-Length:
      - "374"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 16 Feb 2023 13:15:15 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 4e4df062-b0be-43b2-a890-b77ddf5a20b5
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: <CreateBucketConfiguration xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><LocationConstraint>fr-par</LocationConstraint></CreateBucketConfiguration>
    form: {}
    headers:
      Content-Length:
      - "150"
      User-Agent:
      - aws-sdk-go/1.44.193 (go1.19.5; darwin; amd64)
      X-Amz-Acl:
      - private
      X-Amz-Bucket-Object-Lock-Enabled:
      - "false"
      X-Amz-Content-Sha256:
      - 2cb57fad7b7168921a4c94426cfcb9ee2953f126430595df844e22d50f029060
      X-Amz-Date:
      - 20230216T131516Z
    url: https://test-acc-scaleway-object-bucket-6193002076552764174.s3.fr-par.scw.cloud/
    method: PUT
  response:
    body: ""
    headers:
      Content-Length:
      - "0"
      Content-Type:
      - text/html; charset=UTF-8
      Date:
      - Thu, 16 Feb 2023 13:15:18 GMT
      Location:
      - /test-acc-scaleway-object-bucket-6193002076552764174
      X-Amz-Id-2:
      - txbede2b2de4974938ae71c-0063ee2c64
      X-Amz-Request-Id:
      - txbede2b2de4974938ae71c-0063ee2c64
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Content-Md5:
      - 1B2M2Y8AsgTpgAmY7PhCfg==
      User-Agent:
      - aws-sdk-go/1.44.193 (go1.19.5; darwin; amd64)
      X-Amz-Acl:
      - private
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20230216T131518Z
    url: https://test-acc-scaleway-object-bucket-6193002076552764174.s3.fr-par.scw.cloud/?acl=
    method: PUT
  response:
    body: ""
    headers:
      Content-Length:
      - "0"
      Content-Type:
      - text/html; charset=UTF-8
      Date:
      - Thu, 16 Feb 2023 13:15:19 GMT
      X-Amz-Id-2:
      - tx8ac4b9fe0b6b4afe9ac4c-0063ee2c66
      X-Amz-Request-Id:
      - tx8ac4b9fe0b6b4afe9ac4c-0063ee2c66
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.193 (go1.19.5; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20230216T131519Z
    url: https://test-acc-scaleway-object-bucket-6193002076552764174.s3.fr-par.scw.cloud/?acl=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <AccessControlPolicy xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Owner><ID>105bdce1-64c0-48ab-899d-868455867ecf:105bdce1-64c0-48ab-899d-868455867ecf</ID><DisplayName>105bdce1-64c0-48ab-899d-868455867ecf:105bdce1-64c0-48ab-899d-868455867ecf</DisplayName></Owner><AccessControlList><Grant><Grantee xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CanonicalUser"><ID>105bdce1-64c0-48ab-899d-868455867ecf:105bdce1-64c0-48ab-899d-868455867ecf</ID><DisplayName>105bdce1-64c0-48ab-899d-868455867ecf:105bdce1-64c0-48ab-899d-868455867ecf</DisplayName></Grantee><Permission>FULL_CONTROL</Permission></Grant></AccessControlList></AccessControlPolicy>
    headers:
      Content-Length:
      - "698"
      Content-Type:
      - text/html; charset=UTF-8
      Date:
      - Thu, 16 Feb 2023 13:15:19 GMT
      X-Amz-Id-2:
      - tx24f8596e40e54a82a888a-0063ee2c67
      X-Amz-Request-Id:
      - tx24f8596e40e54a82a888a-0063ee2c67
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.193 (go1.19.5; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20230216T131519Z
    url: https://test-acc-scaleway-object-bucket-6193002076552764174.s3.fr-par.scw.cloud/?object-lock=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <Error><Code>ObjectLockConfigurationNotFoundError</Code><Message>Object Lock configuration does not exist for this bucket</Message><RequestId>tx1fa852e78ca5484fb8b45-0063ee2c67</RequestId></Error>
    headers:
      Content-Type:
      - application/xml
      Date:
      - Thu, 16 Feb 2023 13:15:19 GMT
      X-Amz-Id-2:
      - tx1fa852e78ca5484fb8b45-0063ee2c67
      X-Amz-Request-Id:
      - tx1fa852e78ca5484fb8b45-0063ee2c67
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.193 (go1.19.5; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20230216T131519Z
    url: https://test-acc-scaleway-object-bucket-6193002076552764174.s3.fr-par.scw.cloud/
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>test-acc-scaleway-object-bucket-6193002076552764174</Name><Prefix/><Delimiter/><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Marker/></ListBucketResult>
    headers:
      Content-Length:
      - "273"
      Content-Type:
      - application/xml
      Date:
      - Thu, 16 Feb 2023 13:15:19 GMT
      X-Amz-Id-2:
      - tx628c9b43b1b74ef0aa416-0063ee2c67
      X-Amz-Request-Id:
      - tx628c9b43b1b74ef0aa416-0063ee2c67
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.193 (go1.19.5; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20230216T131519Z
    url: https://test-acc-scaleway-object-bucket-6193002076552764174.s3.fr-par.scw.cloud/?tagging=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <Error><Code>NoSuchTagSet</Code><Message>There is no tag set associated with the bucket or object.</Message><RequestId>tx4b66510cc27d40199d7c1-0063ee2c67</RequestId><Headers/></Error>
    headers:
      Content-Type:
      - application/xml
      Date:
      - Thu, 16 Feb 2023 13:15:19 GMT
      X-Amz-Id-2:
      - tx4b66510cc27d40199d7c1-0063ee2c67
      X-Amz-Request-Id:
      - tx4b66510cc27d40199d7c1-0063ee2c67
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.193 (go1.19.5; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20230216T131519Z
    url: https://test-acc-scaleway-object-bucket-6193002076552764174.s3.fr-par.scw.cloud/?cors=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <Error><Code>NoSuchCORSConfiguration</Code><Message>The CORS configuration does not exist</Message><RequestId>txde3a093787694665803e1-0063ee2c67</RequestId></Error>
    headers:
      Content-Type:
      - application/xml
      Date:
      - Thu, 16 Feb 2023 13:15:20 GMT
      X-Amz-Id-2:
      - txde3a093787694665803e1-0063ee2c67
      X-Amz-Request-Id:
      - txde3a093787694665803e1-0063ee2c67
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.193 (go1.19.5; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20230216T131519Z
    url: https://test-acc-scaleway-object-bucket-6193002076552764174.s3.fr-par.scw.cloud/?versioning=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <VersioningConfiguration xmlns="http://s3.amazonaws.com/doc/2006-03-01/"/>
    headers:
      Content-Length:
      - "113"
      Content-Type:
      - text/plain
      Date:
      - Thu, 16 Feb 2023 13:15:20 GMT
      X-Amz-Id-2:
      - tx2fa6197e84ea40b39f02e-0063ee2c68
      X-Amz-Request-Id:
      - tx2fa6197e84ea40b39f02e-0063ee2c68
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.193 (go1.19.5; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20230216T131520Z
    url: https://test-acc-scaleway-object-bucket-6193002076552764174.s3.fr-par.scw.cloud/?lifecycle=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <Error><Code>NoSuchLifecycleConfiguration</Code><Message>The lifecycle configuration does not exist.</Message><RequestId>txed41be540ea141ec9fca4-0063ee2c68</RequestId></Error>
    headers:
      Content-Type:
      - application/xml
      Date:
      - Thu, 16 Feb 2023 13:15:20 GMT
      X-Amz-Id-2:
      - txed41be540ea141ec9fca4-0063ee2c68
      X-Amz-Request-Id:
      - txed41be540ea141ec9fca4-0063ee2c68
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.193 (go1.19.5; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20230216T131520Z
    url: https://test-acc-scaleway-object-bucket-6193002076552764174.s3.fr-par.scw.cloud/
    method: HEAD
  response:
    body: ""
    headers:
      Content-Length:
      - "0"
      Content-Type:
      - application/xml
      Date:
      - Thu, 16 Feb 2023 13:15:20 GMT
      X-Amz-Id-2:
      - tx7fd1226548d048d4be16e-0063ee2c68
      X-Amz-Request-Id:
      - tx7fd1226548d048d4be16e-0063ee2c68
    status: 403 Forbidden
    code: 403
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.193 (go1.19.5; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20230216T131520Z
    url: https://test-acc-scaleway-object-bucket-6193002076552764174.s3.fr-par.scw.cloud/
    method: DELETE
  response:
    body: ""
    headers:
      Content-Length:
      - "0"
      Content-Type:
      - text/html; charset=UTF-8
      Date:
      - Thu, 16 Feb 2023 13:15:21 GMT
      X-Amz-Id-2:
      - tx8c67143a3d7d4f378f79f-0063ee2c68
      X-Amz-Request-Id:
      - tx8c67143a3d7d4f378f79f-0063ee2c68
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.5; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCW71PY9JV1RF32NB2M0
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 16 Feb 2023 13:15:21 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - cb103610-28b3-448b-b462-e28cf198e164
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.5; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/cb5909e6-1270-4292-b975-69797860da55
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 16 Feb 2023 13:15:21 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - bd6acf3d-1b3b-4ac5-abec-8d88872684d1
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.5; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications/90711614-9732-463d-9726-9ff64e2a0642
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 16 Feb 2023 13:15:21 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 7cff2a9a-a101-43b8-971e-236e2e29b1bc
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.5; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/account/v2/projects/40e7ded8-2203-4619-955b-dc7a64cb732d
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 16 Feb 2023 13:15:22 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 0c1572bd-db9d-4fad-89cb-16103abab168
    status: 204 No Content
    code: 204
    duration: ""

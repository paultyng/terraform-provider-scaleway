---
version: 1
interactions:
- request:
    body: '{"name":"test-acc-scaleway-project-7608029097682199841","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","description":null}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.5; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/account/v2/projects
    method: POST
  response:
    body: '{"created_at":"2023-01-19T16:23:46.099130Z","description":"","id":"8bb561f3-ead1-4fc5-a9aa-c5a1c5c2f028","name":"test-acc-scaleway-project-7608029097682199841","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","updated_at":"2023-01-19T16:23:46.099130Z"}'
    headers:
      Content-Length:
      - "265"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 19 Jan 2023 16:23:46 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - d72b8c0e-49be-4941-ab2c-be56aefb8f69
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"name":"test-acc-scaleway-iam-app-5030554946864045029","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","description":""}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.5; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications
    method: POST
  response:
    body: '{"created_at":"2023-01-19T16:23:46.860638Z","description":"","editable":true,"id":"c8978707-a0e2-4bf8-b682-68c268444dbb","name":"test-acc-scaleway-iam-app-5030554946864045029","nb_api_keys":0,"organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","updated_at":"2023-01-19T16:23:46.860638Z"}'
    headers:
      Content-Length:
      - "292"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 19 Jan 2023 16:23:46 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 888851ba-7462-4e73-b1cb-f89713735876
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"name":"test-acc-scaleway-iam-policy-9004246015958420179","description":"","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","rules":[{"permission_set_names":["ObjectStorageReadOnly","ObjectStorageObjectsRead","ObjectStorageBucketsRead"],"project_ids":["8bb561f3-ead1-4fc5-a9aa-c5a1c5c2f028"]}],"application_id":"c8978707-a0e2-4bf8-b682-68c268444dbb"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.5; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies
    method: POST
  response:
    body: '{"application_id":"c8978707-a0e2-4bf8-b682-68c268444dbb","created_at":"2023-01-19T16:23:46.940966Z","description":"","editable":true,"id":"13944941-661b-43bd-b9df-fc4d22d32d34","name":"test-acc-scaleway-iam-policy-9004246015958420179","nb_permission_sets":0,"nb_rules":0,"nb_scopes":0,"organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","updated_at":"2023-01-19T16:23:46.940966Z"}'
    headers:
      Content-Length:
      - "385"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 19 Jan 2023 16:23:46 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - ab0f7fe9-e0e6-49dd-86f8-596a595397b6
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"application_id":"c8978707-a0e2-4bf8-b682-68c268444dbb","expires_at":null,"default_project_id":"8bb561f3-ead1-4fc5-a9aa-c5a1c5c2f028","description":""}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.5; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys
    method: POST
  response:
    body: '{"access_key":"SCWGWF1DSFECQ7KNZJWZ","application_id":"c8978707-a0e2-4bf8-b682-68c268444dbb","created_at":"2023-01-19T16:23:47.124857Z","creation_ip":"51.159.73.9","default_project_id":"8bb561f3-ead1-4fc5-a9aa-c5a1c5c2f028","description":"","editable":true,"expires_at":null,"secret_key":"00000000-0000-0000-0000-000000000000","updated_at":"2023-01-19T16:23:47.124857Z"}'
    headers:
      Content-Length:
      - "379"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 19 Jan 2023 16:23:47 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 7517cfb9-a96c-4ab4-9456-aa26582c6ef8
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: <CreateBucketConfiguration xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><LocationConstraint>fr-par</LocationConstraint></CreateBucketConfiguration>
    form: {}
    headers:
      Content-Length:
      - "150"
      User-Agent:
      - aws-sdk-go/1.44.171 (go1.19.5; darwin; amd64)
      X-Amz-Acl:
      - private
      X-Amz-Bucket-Object-Lock-Enabled:
      - "false"
      X-Amz-Content-Sha256:
      - 2cb57fad7b7168921a4c94426cfcb9ee2953f126430595df844e22d50f029060
      X-Amz-Date:
      - 20230119T162348Z
    url: https://test-acc-scaleway-object-bucket-7506753729832757085.s3.fr-par.scw.cloud/
    method: PUT
  response:
    body: ""
    headers:
      Content-Length:
      - "0"
      Content-Type:
      - text/html; charset=UTF-8
      Date:
      - Thu, 19 Jan 2023 16:23:49 GMT
      Location:
      - /test-acc-scaleway-object-bucket-7506753729832757085
      X-Amz-Id-2:
      - tx80cc7c71344944b4ba152-0063c96e94
      X-Amz-Request-Id:
      - tx80cc7c71344944b4ba152-0063c96e94
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Content-Md5:
      - 1B2M2Y8AsgTpgAmY7PhCfg==
      User-Agent:
      - aws-sdk-go/1.44.171 (go1.19.5; darwin; amd64)
      X-Amz-Acl:
      - private
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20230119T162349Z
    url: https://test-acc-scaleway-object-bucket-7506753729832757085.s3.fr-par.scw.cloud/?acl=
    method: PUT
  response:
    body: ""
    headers:
      Content-Length:
      - "0"
      Content-Type:
      - text/html; charset=UTF-8
      Date:
      - Thu, 19 Jan 2023 16:23:49 GMT
      X-Amz-Id-2:
      - txf6c885ed9b664f1d94d2e-0063c96e95
      X-Amz-Request-Id:
      - txf6c885ed9b664f1d94d2e-0063c96e95
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.171 (go1.19.5; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20230119T162349Z
    url: https://test-acc-scaleway-object-bucket-7506753729832757085.s3.fr-par.scw.cloud/?acl=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <AccessControlPolicy xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Owner><ID>105bdce1-64c0-48ab-899d-868455867ecf:105bdce1-64c0-48ab-899d-868455867ecf</ID><DisplayName>105bdce1-64c0-48ab-899d-868455867ecf:105bdce1-64c0-48ab-899d-868455867ecf</DisplayName></Owner><AccessControlList><Grant><Grantee xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CanonicalUser"><ID>105bdce1-64c0-48ab-899d-868455867ecf:105bdce1-64c0-48ab-899d-868455867ecf</ID><DisplayName>105bdce1-64c0-48ab-899d-868455867ecf:105bdce1-64c0-48ab-899d-868455867ecf</DisplayName></Grantee><Permission>FULL_CONTROL</Permission></Grant></AccessControlList></AccessControlPolicy>
    headers:
      Content-Length:
      - "698"
      Content-Type:
      - text/html; charset=UTF-8
      Date:
      - Thu, 19 Jan 2023 16:23:49 GMT
      X-Amz-Id-2:
      - tx9e07acf2e8da42adadb64-0063c96e95
      X-Amz-Request-Id:
      - tx9e07acf2e8da42adadb64-0063c96e95
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.171 (go1.19.5; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20230119T162349Z
    url: https://test-acc-scaleway-object-bucket-7506753729832757085.s3.fr-par.scw.cloud/?object-lock=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <Error><Code>ObjectLockConfigurationNotFoundError</Code><Message>Object Lock configuration does not exist for this bucket</Message><RequestId>tx6e1e63df40084fbe84deb-0063c96e95</RequestId></Error>
    headers:
      Content-Type:
      - application/xml
      Date:
      - Thu, 19 Jan 2023 16:23:49 GMT
      X-Amz-Id-2:
      - tx6e1e63df40084fbe84deb-0063c96e95
      X-Amz-Request-Id:
      - tx6e1e63df40084fbe84deb-0063c96e95
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.171 (go1.19.5; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20230119T162349Z
    url: https://test-acc-scaleway-object-bucket-7506753729832757085.s3.fr-par.scw.cloud/
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>test-acc-scaleway-object-bucket-7506753729832757085</Name><Prefix/><Delimiter/><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Marker/></ListBucketResult>
    headers:
      Content-Length:
      - "273"
      Content-Type:
      - application/xml
      Date:
      - Thu, 19 Jan 2023 16:23:49 GMT
      X-Amz-Id-2:
      - tx83b8c1943c144c1a96850-0063c96e95
      X-Amz-Request-Id:
      - tx83b8c1943c144c1a96850-0063c96e95
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.171 (go1.19.5; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20230119T162349Z
    url: https://test-acc-scaleway-object-bucket-7506753729832757085.s3.fr-par.scw.cloud/?tagging=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <Error><Code>NoSuchTagSet</Code><Message>There is no tag set associated with the bucket or object.</Message><RequestId>txa1c56c8baf2b4ac7a97bb-0063c96e95</RequestId><Headers/></Error>
    headers:
      Content-Type:
      - application/xml
      Date:
      - Thu, 19 Jan 2023 16:23:49 GMT
      X-Amz-Id-2:
      - txa1c56c8baf2b4ac7a97bb-0063c96e95
      X-Amz-Request-Id:
      - txa1c56c8baf2b4ac7a97bb-0063c96e95
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.171 (go1.19.5; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20230119T162349Z
    url: https://test-acc-scaleway-object-bucket-7506753729832757085.s3.fr-par.scw.cloud/?cors=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <Error><Code>NoSuchCORSConfiguration</Code><Message>The CORS configuration does not exist</Message><RequestId>tx1bd78d2c9a8346dd976d9-0063c96e95</RequestId></Error>
    headers:
      Content-Type:
      - application/xml
      Date:
      - Thu, 19 Jan 2023 16:23:49 GMT
      X-Amz-Id-2:
      - tx1bd78d2c9a8346dd976d9-0063c96e95
      X-Amz-Request-Id:
      - tx1bd78d2c9a8346dd976d9-0063c96e95
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.171 (go1.19.5; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20230119T162349Z
    url: https://test-acc-scaleway-object-bucket-7506753729832757085.s3.fr-par.scw.cloud/?versioning=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <VersioningConfiguration xmlns="http://s3.amazonaws.com/doc/2006-03-01/"/>
    headers:
      Content-Length:
      - "113"
      Content-Type:
      - text/plain
      Date:
      - Thu, 19 Jan 2023 16:23:50 GMT
      X-Amz-Id-2:
      - tx5f43cc987e794bd8b9423-0063c96e95
      X-Amz-Request-Id:
      - tx5f43cc987e794bd8b9423-0063c96e95
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.171 (go1.19.5; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20230119T162350Z
    url: https://test-acc-scaleway-object-bucket-7506753729832757085.s3.fr-par.scw.cloud/?lifecycle=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <Error><Code>NoSuchLifecycleConfiguration</Code><Message>The lifecycle configuration does not exist.</Message><RequestId>txfd8fbf75ed264e158c8ae-0063c96e96</RequestId></Error>
    headers:
      Content-Type:
      - application/xml
      Date:
      - Thu, 19 Jan 2023 16:23:50 GMT
      X-Amz-Id-2:
      - txfd8fbf75ed264e158c8ae-0063c96e96
      X-Amz-Request-Id:
      - txfd8fbf75ed264e158c8ae-0063c96e96
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.171 (go1.19.5; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20230119T162350Z
    url: https://test-acc-scaleway-object-bucket-7506753729832757085.s3.fr-par.scw.cloud/
    method: HEAD
  response:
    body: ""
    headers:
      Content-Length:
      - "0"
      Content-Type:
      - application/xml
      Date:
      - Thu, 19 Jan 2023 16:23:50 GMT
      X-Amz-Id-2:
      - txb940f8086176468e8e73c-0063c96e96
      X-Amz-Request-Id:
      - txb940f8086176468e8e73c-0063c96e96
    status: 403 Forbidden
    code: 403
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.171 (go1.19.5; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20230119T162350Z
    url: https://test-acc-scaleway-object-bucket-7506753729832757085.s3.fr-par.scw.cloud/
    method: DELETE
  response:
    body: ""
    headers:
      Content-Length:
      - "0"
      Content-Type:
      - text/html; charset=UTF-8
      Date:
      - Thu, 19 Jan 2023 16:23:52 GMT
      X-Amz-Id-2:
      - tx5f81d83eae8e4908afe6e-0063c96e96
      X-Amz-Request-Id:
      - tx5f81d83eae8e4908afe6e-0063c96e96
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.5; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCWGWF1DSFECQ7KNZJWZ
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 19 Jan 2023 16:23:52 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - faf63a2d-2126-4aeb-88e9-16d2a78a1147
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.5; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/13944941-661b-43bd-b9df-fc4d22d32d34
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 19 Jan 2023 16:23:52 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 5fc1cb73-24e8-4161-bb27-36243f2ae3e6
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.5; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications/c8978707-a0e2-4bf8-b682-68c268444dbb
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 19 Jan 2023 16:23:52 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 5eacd643-ec5f-4dfd-a5b0-2c04d897580d
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.5; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/account/v2/projects/8bb561f3-ead1-4fc5-a9aa-c5a1c5c2f028
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 19 Jan 2023 16:23:53 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 4a421430-2504-4439-9790-28be54d6c78a
    status: 204 No Content
    code: 204
    duration: ""

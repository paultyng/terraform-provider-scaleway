---
version: 1
interactions:
- request:
    body: '{"project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","name":"tf-pn-musing-elion","tags":[],"type":"VPC-GW-S","upstream_dns_servers":[],"ip_id":null}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.16.6; darwin; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/vpc-gw/v1beta1/zones/fr-par-1/gateways
    method: POST
  response:
    body: '{"id":"9db05863-9340-4ecd-b414-689aff7a7f2a","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","created_at":"2021-08-05T09:28:08.379929Z","updated_at":"2021-08-05T09:28:08.379929Z","type":{"name":"VPC-GW-S","bandwidth":100000000,"zone":"fr-par-1"},"status":"stopped","name":"tf-pn-musing-elion","tags":[],"ip":{"id":"36704e51-2500-43e1-8fb5-f94e31c1c5e7","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","created_at":"2021-08-05T09:28:08.354017Z","updated_at":"2021-08-05T09:28:08.354017Z","tags":[],"address":"163.172.134.134","reverse":null,"zone":"fr-par-1"},"gateway_networks":[],"upstream_dns_servers":[],"version":null,"can_upgrade_to":null,"zone":"fr-par-1"}'
    headers:
      Content-Length:
      - "784"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 Aug 2021 09:28:08 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 410c9685-b1cc-4de6-82fd-24f88e842582
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.16.6; darwin; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/vpc-gw/v1beta1/zones/fr-par-1/gateways/9db05863-9340-4ecd-b414-689aff7a7f2a
    method: GET
  response:
    body: '{"id":"9db05863-9340-4ecd-b414-689aff7a7f2a","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","created_at":"2021-08-05T09:28:08.379929Z","updated_at":"2021-08-05T09:28:08.430666Z","type":{"name":"VPC-GW-S","bandwidth":100000000,"zone":"fr-par-1"},"status":"stopped","name":"tf-pn-musing-elion","tags":[],"ip":{"id":"36704e51-2500-43e1-8fb5-f94e31c1c5e7","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","created_at":"2021-08-05T09:28:08.354017Z","updated_at":"2021-08-05T09:28:08.354017Z","tags":[],"address":"163.172.134.134","reverse":null,"zone":"fr-par-1"},"gateway_networks":[],"upstream_dns_servers":[],"version":"0.2.10","can_upgrade_to":null,"zone":"fr-par-1"}'
    headers:
      Content-Length:
      - "788"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 Aug 2021 09:28:08 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 9745bd5c-7830-43e4-b848-46c8d504b045
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.16.6; darwin; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/vpc-gw/v1beta1/zones/fr-par-1/gateways/9db05863-9340-4ecd-b414-689aff7a7f2a
    method: GET
  response:
    body: '{"id":"9db05863-9340-4ecd-b414-689aff7a7f2a","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","created_at":"2021-08-05T09:28:08.379929Z","updated_at":"2021-08-05T09:28:08.430666Z","type":{"name":"VPC-GW-S","bandwidth":100000000,"zone":"fr-par-1"},"status":"stopped","name":"tf-pn-musing-elion","tags":[],"ip":{"id":"36704e51-2500-43e1-8fb5-f94e31c1c5e7","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","created_at":"2021-08-05T09:28:08.354017Z","updated_at":"2021-08-05T09:28:08.354017Z","tags":[],"address":"163.172.134.134","reverse":null,"zone":"fr-par-1"},"gateway_networks":[],"upstream_dns_servers":[],"version":"0.2.10","can_upgrade_to":null,"zone":"fr-par-1"}'
    headers:
      Content-Length:
      - "788"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 Aug 2021 09:28:08 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 63843a50-1aaa-4cf1-9171-66a646d833b1
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"gateway_id":"fr-par-1/9db05863-9340-4ecd-b414-689aff7a7f2a","public_port":8080,"private_ip":"192.168.0.1","private_port":8080,"protocol":"both"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.16.6; darwin; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/vpc-gw/v1beta1/zones/fr-par-1/pat-rules
    method: POST
  response:
    body: '{"details":[{"argument_name":"gateway_id","help_message":"uuid: {}","reason":"unknown"}],"message":"invalid argument(s)","type":"invalid_arguments"}'
    headers:
      Content-Length:
      - "148"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 Aug 2021 09:28:08 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 0eca961a-654f-4c62-9074-252b627065ab
    status: 400 Bad Request
    code: 400
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.16.6; darwin; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/vpc-gw/v1beta1/zones/fr-par-1/gateways/9db05863-9340-4ecd-b414-689aff7a7f2a
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 Aug 2021 09:28:09 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - e640aa7b-e1d6-4ca2-94a2-b5d4c1d896e3
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.16.6; darwin; amd64) terraform-provider/develop terraform/terraform-tests
    url: https://api.scaleway.com/vpc-gw/v1beta1/zones/fr-par-1/gateways/9db05863-9340-4ecd-b414-689aff7a7f2a
    method: GET
  response:
    body: '{"message":"resource is not found","resource":"gateway","resource_id":"9db05863-9340-4ecd-b414-689aff7a7f2a","type":"not_found"}'
    headers:
      Content-Length:
      - "128"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 Aug 2021 09:28:09 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 32cc06f0-45a8-412e-ba4c-350307fb3701
    status: 404 Not Found
    code: 404
    duration: ""

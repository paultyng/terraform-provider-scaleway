---
version: 1
interactions:
- request:
    body: '{"name":"minimal","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","product_plan":"plan_shared","disable_events":null,"events_topic_prefix":"$SCW/events"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.1; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs
    method: POST
  response:
    body: '{"region":"fr-par","id":"d3219385-f1cd-4f64-bfd9-9e27721785c5","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","name":"minimal","status":"enabling","product_plan":"plan_shared","endpoint":"iot.fr-par.scw.cloud","created_at":"2022-04-14T07:34:13.041Z","updated_at":"2022-04-14T07:34:13.041Z","enabled":true,"device_count":0,"connected_device_count":0,"disable_events":false,"events_topic_prefix":"$SCW/events","enable_device_auto_provisioning":false,"has_custom_ca":false}'
    headers:
      Content-Length:
      - "532"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 14 Apr 2022 07:34:13 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - fbebe561-6cd9-4ac8-ba69-404108f73bcd
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.1; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/d3219385-f1cd-4f64-bfd9-9e27721785c5
    method: GET
  response:
    body: '{"region":"fr-par","id":"d3219385-f1cd-4f64-bfd9-9e27721785c5","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","name":"minimal","status":"enabling","product_plan":"plan_shared","endpoint":"iot.fr-par.scw.cloud","created_at":"2022-04-14T07:34:13.041Z","updated_at":"2022-04-14T07:34:13.041Z","enabled":true,"device_count":0,"connected_device_count":0,"disable_events":false,"events_topic_prefix":"$SCW/events","enable_device_auto_provisioning":false,"has_custom_ca":false}'
    headers:
      Content-Length:
      - "532"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 14 Apr 2022 07:34:13 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 732855bd-622d-4359-a1bb-e463a5bd1cf9
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: <CreateBucketConfiguration xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><LocationConstraint>fr-par</LocationConstraint></CreateBucketConfiguration>
    form: {}
    headers:
      Content-Length:
      - "150"
      User-Agent:
      - aws-sdk-go/1.43.31 (go1.18.1; darwin; amd64)
      X-Amz-Acl:
      - private
      X-Amz-Content-Sha256:
      - 2cb57fad7b7168921a4c94426cfcb9ee2953f126430595df844e22d50f029060
      X-Amz-Date:
      - 20220414T073412Z
    url: https://test-acc-scaleway-iot-route-s3.s3.fr-par.scw.cloud/
    method: PUT
  response:
    body: ""
    headers:
      Content-Length:
      - "0"
      Content-Type:
      - text/html; charset=UTF-8
      Date:
      - Thu, 14 Apr 2022 07:34:13 GMT
      Location:
      - /test-acc-scaleway-iot-route-s3
      X-Amz-Id-2:
      - txd211dac2591d4ebfb892d-006257ce75
      X-Amz-Request-Id:
      - txd211dac2591d4ebfb892d-006257ce75
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Content-Md5:
      - 1B2M2Y8AsgTpgAmY7PhCfg==
      User-Agent:
      - aws-sdk-go/1.43.31 (go1.18.1; darwin; amd64)
      X-Amz-Acl:
      - private
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20220414T073413Z
    url: https://test-acc-scaleway-iot-route-s3.s3.fr-par.scw.cloud/?acl=
    method: PUT
  response:
    body: ""
    headers:
      Content-Length:
      - "0"
      Content-Type:
      - text/html; charset=UTF-8
      Date:
      - Thu, 14 Apr 2022 07:34:13 GMT
      X-Amz-Id-2:
      - txbfaca6ceaff8432f8c337-006257ce75
      X-Amz-Request-Id:
      - txbfaca6ceaff8432f8c337-006257ce75
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.43.31 (go1.18.1; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20220414T073413Z
    url: https://test-acc-scaleway-iot-route-s3.s3.fr-par.scw.cloud/
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>test-acc-scaleway-iot-route-s3</Name><Prefix/><Delimiter/><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Marker/></ListBucketResult>
    headers:
      Content-Length:
      - "252"
      Content-Type:
      - application/xml
      Date:
      - Thu, 14 Apr 2022 07:34:13 GMT
      X-Amz-Id-2:
      - tx8a6fd42e3a254c6b94adb-006257ce75
      X-Amz-Request-Id:
      - tx8a6fd42e3a254c6b94adb-006257ce75
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.43.31 (go1.18.1; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20220414T073413Z
    url: https://test-acc-scaleway-iot-route-s3.s3.fr-par.scw.cloud/?tagging=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <Error><Code>NoSuchTagSet</Code><Message>There is no tag set associated with the bucket or object.</Message><RequestId>txcf2b41858b8142b39053d-006257ce78</RequestId><Headers/></Error>
    headers:
      Content-Type:
      - application/xml
      Date:
      - Thu, 14 Apr 2022 07:34:16 GMT
      X-Amz-Id-2:
      - txcf2b41858b8142b39053d-006257ce78
      X-Amz-Request-Id:
      - txcf2b41858b8142b39053d-006257ce78
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.43.31 (go1.18.1; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20220414T073416Z
    url: https://test-acc-scaleway-iot-route-s3.s3.fr-par.scw.cloud/?cors=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <Error><Code>NoSuchCORSConfiguration</Code><Message>The CORS configuration does not exist</Message><RequestId>tx087b805c6ff045509e074-006257ce78</RequestId></Error>
    headers:
      Content-Type:
      - application/xml
      Date:
      - Thu, 14 Apr 2022 07:34:16 GMT
      X-Amz-Id-2:
      - tx087b805c6ff045509e074-006257ce78
      X-Amz-Request-Id:
      - tx087b805c6ff045509e074-006257ce78
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.43.31 (go1.18.1; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20220414T073416Z
    url: https://test-acc-scaleway-iot-route-s3.s3.fr-par.scw.cloud/?versioning=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <VersioningConfiguration xmlns="http://s3.amazonaws.com/doc/2006-03-01/"/>
    headers:
      Content-Length:
      - "113"
      Content-Type:
      - text/plain
      Date:
      - Thu, 14 Apr 2022 07:34:16 GMT
      X-Amz-Id-2:
      - tx71675dd318b84517adefd-006257ce78
      X-Amz-Request-Id:
      - tx71675dd318b84517adefd-006257ce78
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.43.31 (go1.18.1; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20220414T073416Z
    url: https://test-acc-scaleway-iot-route-s3.s3.fr-par.scw.cloud/?lifecycle=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <Error><Code>NoSuchLifecycleConfiguration</Code><Message>The lifecycle configuration does not exist.</Message><RequestId>txca7df2f1e1744b4985651-006257ce78</RequestId></Error>
    headers:
      Content-Type:
      - application/xml
      Date:
      - Thu, 14 Apr 2022 07:34:16 GMT
      X-Amz-Id-2:
      - txca7df2f1e1744b4985651-006257ce78
      X-Amz-Request-Id:
      - txca7df2f1e1744b4985651-006257ce78
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.1; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/d3219385-f1cd-4f64-bfd9-9e27721785c5
    method: GET
  response:
    body: '{"region":"fr-par","id":"d3219385-f1cd-4f64-bfd9-9e27721785c5","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","name":"minimal","status":"ready","product_plan":"plan_shared","endpoint":"iot.fr-par.scw.cloud","created_at":"2022-04-14T07:34:13.041Z","updated_at":"2022-04-14T07:34:13.041Z","enabled":true,"device_count":0,"connected_device_count":0,"disable_events":false,"events_topic_prefix":"$SCW/events","enable_device_auto_provisioning":false,"has_custom_ca":false}'
    headers:
      Content-Length:
      - "529"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 14 Apr 2022 07:34:18 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 8da3e1b7-a783-4d13-bb44-4b750da34a60
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.1; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/d3219385-f1cd-4f64-bfd9-9e27721785c5
    method: GET
  response:
    body: '{"region":"fr-par","id":"d3219385-f1cd-4f64-bfd9-9e27721785c5","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","name":"minimal","status":"ready","product_plan":"plan_shared","endpoint":"iot.fr-par.scw.cloud","created_at":"2022-04-14T07:34:13.041Z","updated_at":"2022-04-14T07:34:13.041Z","enabled":true,"device_count":0,"connected_device_count":0,"disable_events":false,"events_topic_prefix":"$SCW/events","enable_device_auto_provisioning":false,"has_custom_ca":false}'
    headers:
      Content-Length:
      - "529"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 14 Apr 2022 07:34:18 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - f784ce31-4327-4cb2-8e9b-6aaecd06a0ca
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"name":"default","hub_id":"d3219385-f1cd-4f64-bfd9-9e27721785c5","topic":"#","s3_config":{"bucket_region":"fr-par","bucket_name":"test-acc-scaleway-iot-route-s3","object_prefix":"foo","strategy":"per_topic"}}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.1; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/routes
    method: POST
  response:
    body: '{"id":"e42ff111-ea09-41ad-ba83-cff181763042","name":"default","hub_id":"d3219385-f1cd-4f64-bfd9-9e27721785c5","topic":"#","type":"s3","created_at":"2022-04-14T07:34:18.720Z","updated_at":"2022-04-14T07:34:18.720Z","s3_config":{"bucket_region":"fr-par","bucket_name":"test-acc-scaleway-iot-route-s3","object_prefix":"foo","strategy":"per_topic"}}'
    headers:
      Content-Length:
      - "345"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 14 Apr 2022 07:34:18 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - a1e4bdda-bd47-47fb-afc6-914f43cdf19d
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.1; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/routes/e42ff111-ea09-41ad-ba83-cff181763042
    method: GET
  response:
    body: '{"id":"e42ff111-ea09-41ad-ba83-cff181763042","name":"default","hub_id":"d3219385-f1cd-4f64-bfd9-9e27721785c5","topic":"#","type":"s3","created_at":"2022-04-14T07:34:18.720Z","updated_at":"2022-04-14T07:34:18.720Z","s3_config":{"bucket_region":"fr-par","bucket_name":"test-acc-scaleway-iot-route-s3","object_prefix":"foo","strategy":"per_topic"}}'
    headers:
      Content-Length:
      - "345"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 14 Apr 2022 07:34:18 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - e3190bb4-a9f2-421e-9b25-a2965242d799
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.1; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/d3219385-f1cd-4f64-bfd9-9e27721785c5
    method: GET
  response:
    body: '{"region":"fr-par","id":"d3219385-f1cd-4f64-bfd9-9e27721785c5","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","name":"minimal","status":"ready","product_plan":"plan_shared","endpoint":"iot.fr-par.scw.cloud","created_at":"2022-04-14T07:34:13.041Z","updated_at":"2022-04-14T07:34:13.041Z","enabled":true,"device_count":0,"connected_device_count":0,"disable_events":false,"events_topic_prefix":"$SCW/events","enable_device_auto_provisioning":false,"has_custom_ca":false}'
    headers:
      Content-Length:
      - "529"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 14 Apr 2022 07:34:19 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 398c6f57-6f0c-4947-a4aa-1ec55544fb9b
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.1; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/routes/e42ff111-ea09-41ad-ba83-cff181763042
    method: GET
  response:
    body: '{"id":"e42ff111-ea09-41ad-ba83-cff181763042","name":"default","hub_id":"d3219385-f1cd-4f64-bfd9-9e27721785c5","topic":"#","type":"s3","created_at":"2022-04-14T07:34:18.720Z","updated_at":"2022-04-14T07:34:18.720Z","s3_config":{"bucket_region":"fr-par","bucket_name":"test-acc-scaleway-iot-route-s3","object_prefix":"foo","strategy":"per_topic"}}'
    headers:
      Content-Length:
      - "345"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 14 Apr 2022 07:34:19 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 17f0e85a-cb3b-4a27-a0c9-89a84d2bcde6
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.1; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/d3219385-f1cd-4f64-bfd9-9e27721785c5
    method: GET
  response:
    body: '{"region":"fr-par","id":"d3219385-f1cd-4f64-bfd9-9e27721785c5","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","name":"minimal","status":"ready","product_plan":"plan_shared","endpoint":"iot.fr-par.scw.cloud","created_at":"2022-04-14T07:34:13.041Z","updated_at":"2022-04-14T07:34:13.041Z","enabled":true,"device_count":0,"connected_device_count":0,"disable_events":false,"events_topic_prefix":"$SCW/events","enable_device_auto_provisioning":false,"has_custom_ca":false}'
    headers:
      Content-Length:
      - "529"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 14 Apr 2022 07:34:19 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 52bb3d0e-3cc5-4aab-866f-4db7c243b35b
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.43.31 (go1.18.1; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20220414T073419Z
    url: https://test-acc-scaleway-iot-route-s3.s3.fr-par.scw.cloud/
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>test-acc-scaleway-iot-route-s3</Name><Prefix/><Delimiter/><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Marker/></ListBucketResult>
    headers:
      Content-Length:
      - "252"
      Content-Type:
      - application/xml
      Date:
      - Thu, 14 Apr 2022 07:34:19 GMT
      X-Amz-Id-2:
      - tx67b6c19516a0424bbc8c0-006257ce7b
      X-Amz-Request-Id:
      - tx67b6c19516a0424bbc8c0-006257ce7b
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.43.31 (go1.18.1; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20220414T073419Z
    url: https://test-acc-scaleway-iot-route-s3.s3.fr-par.scw.cloud/?tagging=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <Error><Code>NoSuchTagSet</Code><Message>There is no tag set associated with the bucket or object.</Message><RequestId>txac913a2d605c486597811-006257ce7b</RequestId><Headers/></Error>
    headers:
      Content-Type:
      - application/xml
      Date:
      - Thu, 14 Apr 2022 07:34:19 GMT
      X-Amz-Id-2:
      - txac913a2d605c486597811-006257ce7b
      X-Amz-Request-Id:
      - txac913a2d605c486597811-006257ce7b
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.43.31 (go1.18.1; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20220414T073419Z
    url: https://test-acc-scaleway-iot-route-s3.s3.fr-par.scw.cloud/?cors=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <Error><Code>NoSuchCORSConfiguration</Code><Message>The CORS configuration does not exist</Message><RequestId>txbbabbd38e053457f96080-006257ce7b</RequestId></Error>
    headers:
      Content-Type:
      - application/xml
      Date:
      - Thu, 14 Apr 2022 07:34:19 GMT
      X-Amz-Id-2:
      - txbbabbd38e053457f96080-006257ce7b
      X-Amz-Request-Id:
      - txbbabbd38e053457f96080-006257ce7b
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.43.31 (go1.18.1; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20220414T073419Z
    url: https://test-acc-scaleway-iot-route-s3.s3.fr-par.scw.cloud/?versioning=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <VersioningConfiguration xmlns="http://s3.amazonaws.com/doc/2006-03-01/"/>
    headers:
      Content-Length:
      - "113"
      Content-Type:
      - text/plain
      Date:
      - Thu, 14 Apr 2022 07:34:20 GMT
      X-Amz-Id-2:
      - tx1699abd0912942f4b97c6-006257ce7b
      X-Amz-Request-Id:
      - tx1699abd0912942f4b97c6-006257ce7b
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.43.31 (go1.18.1; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20220414T073419Z
    url: https://test-acc-scaleway-iot-route-s3.s3.fr-par.scw.cloud/?lifecycle=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <Error><Code>NoSuchLifecycleConfiguration</Code><Message>The lifecycle configuration does not exist.</Message><RequestId>txb7bef9d462454519b97e1-006257ce7c</RequestId></Error>
    headers:
      Content-Type:
      - application/xml
      Date:
      - Thu, 14 Apr 2022 07:34:20 GMT
      X-Amz-Id-2:
      - txb7bef9d462454519b97e1-006257ce7c
      X-Amz-Request-Id:
      - txb7bef9d462454519b97e1-006257ce7c
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.1; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/routes/e42ff111-ea09-41ad-ba83-cff181763042
    method: GET
  response:
    body: '{"id":"e42ff111-ea09-41ad-ba83-cff181763042","name":"default","hub_id":"d3219385-f1cd-4f64-bfd9-9e27721785c5","topic":"#","type":"s3","created_at":"2022-04-14T07:34:18.720Z","updated_at":"2022-04-14T07:34:18.720Z","s3_config":{"bucket_region":"fr-par","bucket_name":"test-acc-scaleway-iot-route-s3","object_prefix":"foo","strategy":"per_topic"}}'
    headers:
      Content-Length:
      - "345"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 14 Apr 2022 07:34:20 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - d348f282-a3c4-4d88-9a1f-b83eca83db06
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.1; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/routes/e42ff111-ea09-41ad-ba83-cff181763042
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 14 Apr 2022 07:34:20 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 235866fb-8977-41df-bb42-7b2451a196e6
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.1; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/d3219385-f1cd-4f64-bfd9-9e27721785c5
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 14 Apr 2022 07:34:20 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 2abbeefd-666a-416e-8a51-ff1e9bb4d3d3
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.43.31 (go1.18.1; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20220414T073420Z
    url: https://test-acc-scaleway-iot-route-s3.s3.fr-par.scw.cloud/
    method: DELETE
  response:
    body: ""
    headers:
      Content-Length:
      - "0"
      Content-Type:
      - text/html; charset=UTF-8
      Date:
      - Thu, 14 Apr 2022 07:34:21 GMT
      X-Amz-Id-2:
      - txf38aad26b9ad4cc49cb07-006257ce7c
      X-Amz-Request-Id:
      - txf38aad26b9ad4cc49cb07-006257ce7c
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.1; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/d3219385-f1cd-4f64-bfd9-9e27721785c5
    method: GET
  response:
    body: '{"message":"resource is not found","resource":"hub","resource_id":"d3219385-f1cd-4f64-bfd9-9e27721785c5","type":"not_found"}'
    headers:
      Content-Length:
      - "124"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 14 Apr 2022 07:34:21 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 4980bb93-32e4-473e-94c9-4e0333978d58
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.1; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/d3219385-f1cd-4f64-bfd9-9e27721785c5
    method: GET
  response:
    body: '{"message":"resource is not found","resource":"hub","resource_id":"d3219385-f1cd-4f64-bfd9-9e27721785c5","type":"not_found"}'
    headers:
      Content-Length:
      - "124"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 14 Apr 2022 07:34:21 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 325fa5b3-85d8-4b7c-b860-88b2cf00f375
    status: 404 Not Found
    code: 404
    duration: ""

---
version: 1
interactions:
- request:
    body: '{"name":"minimal","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","product_plan":"plan_shared","disable_events":null,"events_topic_prefix":"$SCW/events"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs
    method: POST
  response:
    body: '{"region":"fr-par","id":"5dc32ce2-5735-4ee7-b994-a56f3cfa25b7","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","name":"minimal","status":"enabling","product_plan":"plan_shared","endpoint":"iot.fr-par.scw.cloud","created_at":"2022-05-18T13:17:26.657Z","updated_at":"2022-05-18T13:17:26.657Z","enabled":true,"device_count":0,"connected_device_count":0,"disable_events":false,"events_topic_prefix":"$SCW/events","enable_device_auto_provisioning":false,"has_custom_ca":false}'
    headers:
      Content-Length:
      - "532"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 18 May 2022 13:17:26 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 051a6829-1d51-4bfc-9848-3cbcd365cb6f
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/5dc32ce2-5735-4ee7-b994-a56f3cfa25b7
    method: GET
  response:
    body: '{"region":"fr-par","id":"5dc32ce2-5735-4ee7-b994-a56f3cfa25b7","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","name":"minimal","status":"enabling","product_plan":"plan_shared","endpoint":"iot.fr-par.scw.cloud","created_at":"2022-05-18T13:17:26.657Z","updated_at":"2022-05-18T13:17:26.657Z","enabled":true,"device_count":0,"connected_device_count":0,"disable_events":false,"events_topic_prefix":"$SCW/events","enable_device_auto_provisioning":false,"has_custom_ca":false}'
    headers:
      Content-Length:
      - "532"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 18 May 2022 13:17:27 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 080bef6a-8b87-4dc2-a9fe-fd828189727e
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: <CreateBucketConfiguration xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><LocationConstraint>fr-par</LocationConstraint></CreateBucketConfiguration>
    form: {}
    headers:
      Content-Length:
      - "150"
      User-Agent:
      - aws-sdk-go/1.44.4 (go1.18.2; darwin; amd64)
      X-Amz-Acl:
      - private
      X-Amz-Content-Sha256:
      - 2cb57fad7b7168921a4c94426cfcb9ee2953f126430595df844e22d50f029060
      X-Amz-Date:
      - 20220518T131726Z
    url: https://test-acc-scaleway-iot-route-s3-1114870547770385636.s3.fr-par.scw.cloud/
    method: PUT
  response:
    body: ""
    headers:
      Content-Length:
      - "0"
      Content-Type:
      - text/html; charset=UTF-8
      Date:
      - Wed, 18 May 2022 13:17:27 GMT
      Location:
      - /test-acc-scaleway-iot-route-s3-1114870547770385636
      X-Amz-Id-2:
      - tx2a05422d21fd4427be135-006284f1e6
      X-Amz-Request-Id:
      - tx2a05422d21fd4427be135-006284f1e6
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Content-Md5:
      - 1B2M2Y8AsgTpgAmY7PhCfg==
      User-Agent:
      - aws-sdk-go/1.44.4 (go1.18.2; darwin; amd64)
      X-Amz-Acl:
      - private
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20220518T131727Z
    url: https://test-acc-scaleway-iot-route-s3-1114870547770385636.s3.fr-par.scw.cloud/?acl=
    method: PUT
  response:
    body: ""
    headers:
      Content-Length:
      - "0"
      Content-Type:
      - text/html; charset=UTF-8
      Date:
      - Wed, 18 May 2022 13:17:27 GMT
      X-Amz-Id-2:
      - tx31a4b1f008e84294aec40-006284f1e7
      X-Amz-Request-Id:
      - tx31a4b1f008e84294aec40-006284f1e7
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.4 (go1.18.2; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20220518T131727Z
    url: https://test-acc-scaleway-iot-route-s3-1114870547770385636.s3.fr-par.scw.cloud/
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>test-acc-scaleway-iot-route-s3-1114870547770385636</Name><Prefix/><Delimiter/><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Marker/></ListBucketResult>
    headers:
      Content-Length:
      - "272"
      Content-Type:
      - application/xml
      Date:
      - Wed, 18 May 2022 13:17:27 GMT
      X-Amz-Id-2:
      - txf3de0af3ba8f4363bfe98-006284f1e7
      X-Amz-Request-Id:
      - txf3de0af3ba8f4363bfe98-006284f1e7
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.4 (go1.18.2; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20220518T131727Z
    url: https://test-acc-scaleway-iot-route-s3-1114870547770385636.s3.fr-par.scw.cloud/?tagging=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <Error><Code>NoSuchTagSet</Code><Message>There is no tag set associated with the bucket or object.</Message><RequestId>tx343e9a34814e4a419adcf-006284f1e7</RequestId><Headers/></Error>
    headers:
      Content-Type:
      - application/xml
      Date:
      - Wed, 18 May 2022 13:17:27 GMT
      X-Amz-Id-2:
      - tx343e9a34814e4a419adcf-006284f1e7
      X-Amz-Request-Id:
      - tx343e9a34814e4a419adcf-006284f1e7
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.4 (go1.18.2; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20220518T131727Z
    url: https://test-acc-scaleway-iot-route-s3-1114870547770385636.s3.fr-par.scw.cloud/?cors=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <Error><Code>NoSuchCORSConfiguration</Code><Message>The CORS configuration does not exist</Message><RequestId>tx2a60daaebcfa48cc8fda6-006284f1e7</RequestId></Error>
    headers:
      Content-Type:
      - application/xml
      Date:
      - Wed, 18 May 2022 13:17:27 GMT
      X-Amz-Id-2:
      - tx2a60daaebcfa48cc8fda6-006284f1e7
      X-Amz-Request-Id:
      - tx2a60daaebcfa48cc8fda6-006284f1e7
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.4 (go1.18.2; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20220518T131727Z
    url: https://test-acc-scaleway-iot-route-s3-1114870547770385636.s3.fr-par.scw.cloud/?versioning=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <VersioningConfiguration xmlns="http://s3.amazonaws.com/doc/2006-03-01/"/>
    headers:
      Content-Length:
      - "113"
      Content-Type:
      - text/plain
      Date:
      - Wed, 18 May 2022 13:17:28 GMT
      X-Amz-Id-2:
      - txbf03816119d0425bbc3fd-006284f1e7
      X-Amz-Request-Id:
      - txbf03816119d0425bbc3fd-006284f1e7
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.4 (go1.18.2; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20220518T131727Z
    url: https://test-acc-scaleway-iot-route-s3-1114870547770385636.s3.fr-par.scw.cloud/?lifecycle=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <Error><Code>NoSuchLifecycleConfiguration</Code><Message>The lifecycle configuration does not exist.</Message><RequestId>tx3dbbff2df10542029796a-006284f1e8</RequestId></Error>
    headers:
      Content-Type:
      - application/xml
      Date:
      - Wed, 18 May 2022 13:17:30 GMT
      X-Amz-Id-2:
      - tx3dbbff2df10542029796a-006284f1e8
      X-Amz-Request-Id:
      - tx3dbbff2df10542029796a-006284f1e8
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/5dc32ce2-5735-4ee7-b994-a56f3cfa25b7
    method: GET
  response:
    body: '{"region":"fr-par","id":"5dc32ce2-5735-4ee7-b994-a56f3cfa25b7","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","name":"minimal","status":"enabling","product_plan":"plan_shared","endpoint":"iot.fr-par.scw.cloud","created_at":"2022-05-18T13:17:26.657Z","updated_at":"2022-05-18T13:17:26.657Z","enabled":true,"device_count":0,"connected_device_count":0,"disable_events":false,"events_topic_prefix":"$SCW/events","enable_device_auto_provisioning":false,"has_custom_ca":false}'
    headers:
      Content-Length:
      - "532"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 18 May 2022 13:17:32 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 386c8a82-77ec-4836-bd1e-5783726dd8a9
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/5dc32ce2-5735-4ee7-b994-a56f3cfa25b7
    method: GET
  response:
    body: '{"region":"fr-par","id":"5dc32ce2-5735-4ee7-b994-a56f3cfa25b7","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","name":"minimal","status":"ready","product_plan":"plan_shared","endpoint":"iot.fr-par.scw.cloud","created_at":"2022-05-18T13:17:26.657Z","updated_at":"2022-05-18T13:17:26.657Z","enabled":true,"device_count":0,"connected_device_count":0,"disable_events":false,"events_topic_prefix":"$SCW/events","enable_device_auto_provisioning":false,"has_custom_ca":false}'
    headers:
      Content-Length:
      - "529"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 18 May 2022 13:17:37 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - d7ffb6b8-7f83-4a19-bff4-f81539707a44
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/5dc32ce2-5735-4ee7-b994-a56f3cfa25b7
    method: GET
  response:
    body: '{"region":"fr-par","id":"5dc32ce2-5735-4ee7-b994-a56f3cfa25b7","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","name":"minimal","status":"ready","product_plan":"plan_shared","endpoint":"iot.fr-par.scw.cloud","created_at":"2022-05-18T13:17:26.657Z","updated_at":"2022-05-18T13:17:26.657Z","enabled":true,"device_count":0,"connected_device_count":0,"disable_events":false,"events_topic_prefix":"$SCW/events","enable_device_auto_provisioning":false,"has_custom_ca":false}'
    headers:
      Content-Length:
      - "529"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 18 May 2022 13:17:37 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 7cda2778-6c33-4267-bd7d-cd373738e5eb
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/5dc32ce2-5735-4ee7-b994-a56f3cfa25b7
    method: GET
  response:
    body: '{"region":"fr-par","id":"5dc32ce2-5735-4ee7-b994-a56f3cfa25b7","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","name":"minimal","status":"ready","product_plan":"plan_shared","endpoint":"iot.fr-par.scw.cloud","created_at":"2022-05-18T13:17:26.657Z","updated_at":"2022-05-18T13:17:26.657Z","enabled":true,"device_count":0,"connected_device_count":0,"disable_events":false,"events_topic_prefix":"$SCW/events","enable_device_auto_provisioning":false,"has_custom_ca":false}'
    headers:
      Content-Length:
      - "529"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 18 May 2022 13:17:37 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 114348e1-4c79-4a74-bddc-443afdde5662
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"name":"default","hub_id":"5dc32ce2-5735-4ee7-b994-a56f3cfa25b7","topic":"#","s3_config":{"bucket_region":"fr-par","bucket_name":"test-acc-scaleway-iot-route-s3-1114870547770385636","object_prefix":"foo","strategy":"per_topic"}}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/routes
    method: POST
  response:
    body: '{"id":"4f2dd0ff-737d-4b56-af92-7de7d848fce4","name":"default","hub_id":"5dc32ce2-5735-4ee7-b994-a56f3cfa25b7","topic":"#","type":"s3","created_at":"2022-05-18T13:17:37.658Z","updated_at":"2022-05-18T13:17:37.658Z","s3_config":{"bucket_region":"fr-par","bucket_name":"test-acc-scaleway-iot-route-s3-1114870547770385636","object_prefix":"foo","strategy":"per_topic"}}'
    headers:
      Content-Length:
      - "365"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 18 May 2022 13:17:37 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - d0d63b00-2d1a-4a27-a9e1-6e48b3c6a065
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/5dc32ce2-5735-4ee7-b994-a56f3cfa25b7
    method: GET
  response:
    body: '{"region":"fr-par","id":"5dc32ce2-5735-4ee7-b994-a56f3cfa25b7","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","name":"minimal","status":"ready","product_plan":"plan_shared","endpoint":"iot.fr-par.scw.cloud","created_at":"2022-05-18T13:17:26.657Z","updated_at":"2022-05-18T13:17:26.657Z","enabled":true,"device_count":0,"connected_device_count":0,"disable_events":false,"events_topic_prefix":"$SCW/events","enable_device_auto_provisioning":false,"has_custom_ca":false}'
    headers:
      Content-Length:
      - "529"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 18 May 2022 13:17:37 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - d9472cbd-678a-4318-8da8-5c4629d99c20
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/routes/4f2dd0ff-737d-4b56-af92-7de7d848fce4
    method: GET
  response:
    body: '{"id":"4f2dd0ff-737d-4b56-af92-7de7d848fce4","name":"default","hub_id":"5dc32ce2-5735-4ee7-b994-a56f3cfa25b7","topic":"#","type":"s3","created_at":"2022-05-18T13:17:37.658Z","updated_at":"2022-05-18T13:17:37.658Z","s3_config":{"bucket_region":"fr-par","bucket_name":"test-acc-scaleway-iot-route-s3-1114870547770385636","object_prefix":"foo","strategy":"per_topic"}}'
    headers:
      Content-Length:
      - "365"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 18 May 2022 13:17:38 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - be87174b-7daa-4c24-ad8a-f2d17668484b
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.4 (go1.18.2; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20220518T131756Z
    url: https://test-acc-scaleway-iot-route-s3-1114870547770385636.s3.fr-par.scw.cloud/
    method: HEAD
  response:
    body: ""
    headers:
      Content-Length:
      - "0"
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Wed, 18 May 2022 13:17:56 GMT
      X-Amz-Id-2:
      - tx39235d4d21bc4785a4b8e-006284f204
      X-Amz-Request-Id:
      - tx39235d4d21bc4785a4b8e-006284f204
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/5dc32ce2-5735-4ee7-b994-a56f3cfa25b7
    method: GET
  response:
    body: '{"region":"fr-par","id":"5dc32ce2-5735-4ee7-b994-a56f3cfa25b7","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","name":"minimal","status":"ready","product_plan":"plan_shared","endpoint":"iot.fr-par.scw.cloud","created_at":"2022-05-18T13:17:26.657Z","updated_at":"2022-05-18T13:17:26.657Z","enabled":true,"device_count":0,"connected_device_count":0,"disable_events":false,"events_topic_prefix":"$SCW/events","enable_device_auto_provisioning":false,"has_custom_ca":false}'
    headers:
      Content-Length:
      - "529"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 18 May 2022 13:18:01 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 20d734a8-95ae-4044-b89c-982f2ce38979
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/routes/4f2dd0ff-737d-4b56-af92-7de7d848fce4
    method: GET
  response:
    body: '{"id":"4f2dd0ff-737d-4b56-af92-7de7d848fce4","name":"default","hub_id":"5dc32ce2-5735-4ee7-b994-a56f3cfa25b7","topic":"#","type":"s3","created_at":"2022-05-18T13:17:37.658Z","updated_at":"2022-05-18T13:17:37.658Z","s3_config":{"bucket_region":"fr-par","bucket_name":"test-acc-scaleway-iot-route-s3-1114870547770385636","object_prefix":"foo","strategy":"per_topic"}}'
    headers:
      Content-Length:
      - "365"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 18 May 2022 13:18:01 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 1dd95506-c944-45cf-a751-3c48a7cefbc8
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/5dc32ce2-5735-4ee7-b994-a56f3cfa25b7
    method: GET
  response:
    body: '{"region":"fr-par","id":"5dc32ce2-5735-4ee7-b994-a56f3cfa25b7","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","name":"minimal","status":"ready","product_plan":"plan_shared","endpoint":"iot.fr-par.scw.cloud","created_at":"2022-05-18T13:17:26.657Z","updated_at":"2022-05-18T13:17:26.657Z","enabled":true,"device_count":0,"connected_device_count":0,"disable_events":false,"events_topic_prefix":"$SCW/events","enable_device_auto_provisioning":false,"has_custom_ca":false}'
    headers:
      Content-Length:
      - "529"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 18 May 2022 13:18:01 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - d814eebf-4741-4eaa-8fa1-704f8984063d
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.4 (go1.18.2; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20220518T131801Z
    url: https://test-acc-scaleway-iot-route-s3-1114870547770385636.s3.fr-par.scw.cloud/
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>test-acc-scaleway-iot-route-s3-1114870547770385636</Name><Prefix/><Delimiter/><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Marker/></ListBucketResult>
    headers:
      Content-Length:
      - "272"
      Content-Type:
      - application/xml
      Date:
      - Wed, 18 May 2022 13:18:01 GMT
      X-Amz-Id-2:
      - tx0a0fe2611fb140128e43a-006284f209
      X-Amz-Request-Id:
      - tx0a0fe2611fb140128e43a-006284f209
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.4 (go1.18.2; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20220518T131801Z
    url: https://test-acc-scaleway-iot-route-s3-1114870547770385636.s3.fr-par.scw.cloud/?tagging=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <Error><Code>NoSuchTagSet</Code><Message>There is no tag set associated with the bucket or object.</Message><RequestId>tx928f1b0c6d1043f48accb-006284f209</RequestId><Headers/></Error>
    headers:
      Content-Type:
      - application/xml
      Date:
      - Wed, 18 May 2022 13:18:01 GMT
      X-Amz-Id-2:
      - tx928f1b0c6d1043f48accb-006284f209
      X-Amz-Request-Id:
      - tx928f1b0c6d1043f48accb-006284f209
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.4 (go1.18.2; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20220518T131801Z
    url: https://test-acc-scaleway-iot-route-s3-1114870547770385636.s3.fr-par.scw.cloud/?cors=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <Error><Code>NoSuchCORSConfiguration</Code><Message>The CORS configuration does not exist</Message><RequestId>tx10bb9d11af2c424da9d35-006284f209</RequestId></Error>
    headers:
      Content-Type:
      - application/xml
      Date:
      - Wed, 18 May 2022 13:18:01 GMT
      X-Amz-Id-2:
      - tx10bb9d11af2c424da9d35-006284f209
      X-Amz-Request-Id:
      - tx10bb9d11af2c424da9d35-006284f209
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.4 (go1.18.2; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20220518T131801Z
    url: https://test-acc-scaleway-iot-route-s3-1114870547770385636.s3.fr-par.scw.cloud/?versioning=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <VersioningConfiguration xmlns="http://s3.amazonaws.com/doc/2006-03-01/"/>
    headers:
      Content-Length:
      - "113"
      Content-Type:
      - text/plain
      Date:
      - Wed, 18 May 2022 13:18:02 GMT
      X-Amz-Id-2:
      - tx0b0c9b9b5bcb4be28b9a0-006284f209
      X-Amz-Request-Id:
      - tx0b0c9b9b5bcb4be28b9a0-006284f209
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.4 (go1.18.2; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20220518T131802Z
    url: https://test-acc-scaleway-iot-route-s3-1114870547770385636.s3.fr-par.scw.cloud/?lifecycle=
    method: GET
  response:
    body: |-
      <?xml version='1.0' encoding='UTF-8'?>
      <Error><Code>NoSuchLifecycleConfiguration</Code><Message>The lifecycle configuration does not exist.</Message><RequestId>txee7d10f1eab745198d991-006284f20a</RequestId></Error>
    headers:
      Content-Type:
      - application/xml
      Date:
      - Wed, 18 May 2022 13:18:02 GMT
      X-Amz-Id-2:
      - txee7d10f1eab745198d991-006284f20a
      X-Amz-Request-Id:
      - txee7d10f1eab745198d991-006284f20a
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/routes/4f2dd0ff-737d-4b56-af92-7de7d848fce4
    method: GET
  response:
    body: '{"id":"4f2dd0ff-737d-4b56-af92-7de7d848fce4","name":"default","hub_id":"5dc32ce2-5735-4ee7-b994-a56f3cfa25b7","topic":"#","type":"s3","created_at":"2022-05-18T13:17:37.658Z","updated_at":"2022-05-18T13:17:37.658Z","s3_config":{"bucket_region":"fr-par","bucket_name":"test-acc-scaleway-iot-route-s3-1114870547770385636","object_prefix":"foo","strategy":"per_topic"}}'
    headers:
      Content-Length:
      - "365"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 18 May 2022 13:18:02 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - f770e07d-3269-46df-a447-72b1a3d3d10b
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/5dc32ce2-5735-4ee7-b994-a56f3cfa25b7
    method: GET
  response:
    body: '{"region":"fr-par","id":"5dc32ce2-5735-4ee7-b994-a56f3cfa25b7","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","name":"minimal","status":"ready","product_plan":"plan_shared","endpoint":"iot.fr-par.scw.cloud","created_at":"2022-05-18T13:17:26.657Z","updated_at":"2022-05-18T13:17:26.657Z","enabled":true,"device_count":0,"connected_device_count":0,"disable_events":false,"events_topic_prefix":"$SCW/events","enable_device_auto_provisioning":false,"has_custom_ca":false}'
    headers:
      Content-Length:
      - "529"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 18 May 2022 13:18:02 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 39d2d9d5-624b-4098-ab4f-83a66f96858b
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/routes/4f2dd0ff-737d-4b56-af92-7de7d848fce4
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 18 May 2022 13:18:02 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - c1a69537-cfda-4223-86f9-7e7600f95996
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/5dc32ce2-5735-4ee7-b994-a56f3cfa25b7
    method: GET
  response:
    body: '{"region":"fr-par","id":"5dc32ce2-5735-4ee7-b994-a56f3cfa25b7","organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","name":"minimal","status":"ready","product_plan":"plan_shared","endpoint":"iot.fr-par.scw.cloud","created_at":"2022-05-18T13:17:26.657Z","updated_at":"2022-05-18T13:17:26.657Z","enabled":true,"device_count":0,"connected_device_count":0,"disable_events":false,"events_topic_prefix":"$SCW/events","enable_device_auto_provisioning":false,"has_custom_ca":false}'
    headers:
      Content-Length:
      - "529"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 18 May 2022 13:18:02 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - bca3ef38-d317-41df-bb1c-5e18422831ec
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/5dc32ce2-5735-4ee7-b994-a56f3cfa25b7
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 18 May 2022 13:18:03 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 35a6ab39-d055-4a0c-94f3-ab822ccb43f6
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/5dc32ce2-5735-4ee7-b994-a56f3cfa25b7
    method: GET
  response:
    body: '{"message":"resource is not found","resource":"hub","resource_id":"5dc32ce2-5735-4ee7-b994-a56f3cfa25b7","type":"not_found"}'
    headers:
      Content-Length:
      - "124"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 18 May 2022 13:18:03 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - d4961903-aa9a-4501-a853-62e8c9c416fd
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - aws-sdk-go/1.44.4 (go1.18.2; darwin; amd64)
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      X-Amz-Date:
      - 20220518T131802Z
    url: https://test-acc-scaleway-iot-route-s3-1114870547770385636.s3.fr-par.scw.cloud/
    method: DELETE
  response:
    body: ""
    headers:
      Content-Length:
      - "0"
      Content-Type:
      - text/html; charset=UTF-8
      Date:
      - Wed, 18 May 2022 13:18:03 GMT
      X-Amz-Id-2:
      - tx3d715c8441834c27b7544-006284f20b
      X-Amz-Request-Id:
      - tx3d715c8441834c27b7544-006284f20b
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/5dc32ce2-5735-4ee7-b994-a56f3cfa25b7
    method: GET
  response:
    body: '{"message":"resource is not found","resource":"hub","resource_id":"5dc32ce2-5735-4ee7-b994-a56f3cfa25b7","type":"not_found"}'
    headers:
      Content-Length:
      - "124"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 18 May 2022 13:18:03 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 8a417ebe-3f0b-491f-bdae-612de0bdac05
    status: 404 Not Found
    code: 404
    duration: ""

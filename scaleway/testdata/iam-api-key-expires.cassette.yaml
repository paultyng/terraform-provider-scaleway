---
version: 1
interactions:
- request:
    body: '{"name":"tf_tests_app_expires_at","organization_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","description":""}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications
    method: POST
  response:
    body: '{"id":"c42c1b38-9b9c-478a-9bb1-e2ac478d1d92","name":"tf_tests_app_expires_at","description":"","created_at":"2022-09-30T14:41:33.087736Z","updated_at":"2022-09-30T14:41:33.087736Z","organization_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","editable":true,"nb_api_keys":0}'
    headers:
      Content-Length:
      - "270"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Fri, 30 Sep 2022 14:41:33 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 51d65865-8cc0-4ff0-bd7f-21d6014ba78f
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications/c42c1b38-9b9c-478a-9bb1-e2ac478d1d92
    method: GET
  response:
    body: '{"id":"c42c1b38-9b9c-478a-9bb1-e2ac478d1d92","name":"tf_tests_app_expires_at","description":"","created_at":"2022-09-30T14:41:33.087736Z","updated_at":"2022-09-30T14:41:33.087736Z","organization_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","editable":true,"nb_api_keys":0}'
    headers:
      Content-Length:
      - "270"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Fri, 30 Sep 2022 14:41:33 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - fdcbe528-793e-4c1e-a34b-b6237460d34e
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"application_id":"c42c1b38-9b9c-478a-9bb1-e2ac478d1d92","expires_at":"2025-07-06T09:00:00Z","default_project_id":null,"description":"an
      api key with an expiration date"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys
    method: POST
  response:
    body: '{"access_key":"SCW66YWC3TCT6988QCY9","secret_key":"bb818124-68d3-4058-8480-a5fff5f79680","description":"an
      api key with an expiration date","created_at":"2022-09-30T14:41:33.235864Z","updated_at":"2022-09-30T14:41:33.235864Z","expires_at":"2025-07-06T09:00:00Z","default_project_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","editable":true,"creation_ip":"51.159.46.153","application_id":"c42c1b38-9b9c-478a-9bb1-e2ac478d1d92"}'
    headers:
      Content-Length:
      - "424"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Fri, 30 Sep 2022 14:41:33 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 08bfdd4e-d4a5-45d9-9b42-d75f2ef23f02
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCW66YWC3TCT6988QCY9
    method: GET
  response:
    body: '{"access_key":"SCW66YWC3TCT6988QCY9","secret_key":null,"description":"an
      api key with an expiration date","created_at":"2022-09-30T14:41:33.235864Z","updated_at":"2022-09-30T14:41:33.235864Z","expires_at":"2025-07-06T09:00:00Z","default_project_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","editable":true,"creation_ip":"51.159.46.153","application_id":"c42c1b38-9b9c-478a-9bb1-e2ac478d1d92"}'
    headers:
      Content-Length:
      - "390"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Fri, 30 Sep 2022 14:41:33 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - cdbfa77c-e5b4-40a3-999e-8c3e88fc31ef
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCW66YWC3TCT6988QCY9
    method: GET
  response:
    body: '{"access_key":"SCW66YWC3TCT6988QCY9","secret_key":null,"description":"an
      api key with an expiration date","created_at":"2022-09-30T14:41:33.235864Z","updated_at":"2022-09-30T14:41:33.235864Z","expires_at":"2025-07-06T09:00:00Z","default_project_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","editable":true,"creation_ip":"51.159.46.153","application_id":"c42c1b38-9b9c-478a-9bb1-e2ac478d1d92"}'
    headers:
      Content-Length:
      - "390"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Fri, 30 Sep 2022 14:41:33 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - f99b3380-4d97-4d22-9c1b-7b29d19d26d0
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications/c42c1b38-9b9c-478a-9bb1-e2ac478d1d92
    method: GET
  response:
    body: '{"id":"c42c1b38-9b9c-478a-9bb1-e2ac478d1d92","name":"tf_tests_app_expires_at","description":"","created_at":"2022-09-30T14:41:33.087736Z","updated_at":"2022-09-30T14:41:33.087736Z","organization_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","editable":true,"nb_api_keys":1}'
    headers:
      Content-Length:
      - "270"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Fri, 30 Sep 2022 14:41:33 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - f2bdef21-8a83-4e10-82de-4200b92dd0ae
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCW66YWC3TCT6988QCY9
    method: GET
  response:
    body: '{"access_key":"SCW66YWC3TCT6988QCY9","secret_key":null,"description":"an
      api key with an expiration date","created_at":"2022-09-30T14:41:33.235864Z","updated_at":"2022-09-30T14:41:33.235864Z","expires_at":"2025-07-06T09:00:00Z","default_project_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","editable":true,"creation_ip":"51.159.46.153","application_id":"c42c1b38-9b9c-478a-9bb1-e2ac478d1d92"}'
    headers:
      Content-Length:
      - "390"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Fri, 30 Sep 2022 14:41:33 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 745f3652-c903-4525-9cf7-d02c34b4a609
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCW66YWC3TCT6988QCY9
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Fri, 30 Sep 2022 14:41:34 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - e401729b-ceea-4ba7-8764-adfecbaf0e08
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications/c42c1b38-9b9c-478a-9bb1-e2ac478d1d92
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Fri, 30 Sep 2022 14:41:34 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 4443efa8-ca96-4b26-9fe5-57d0175d05e6
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCW66YWC3TCT6988QCY9
    method: GET
  response:
    body: '{"message":"resource is not found","resource":"access_key","resource_id":"SCW66YWC3TCT6988QCY9","type":"not_found"}'
    headers:
      Content-Length:
      - "115"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Fri, 30 Sep 2022 14:41:34 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - c2a53eeb-f982-49b2-babe-3ce45c2ff725
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.19.1; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications/c42c1b38-9b9c-478a-9bb1-e2ac478d1d92
    method: GET
  response:
    body: '{"message":"resource is not found","resource":"iam_application","resource_id":"c42c1b38-9b9c-478a-9bb1-e2ac478d1d92","type":"not_found"}'
    headers:
      Content-Length:
      - "136"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Fri, 30 Sep 2022 14:41:34 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 66e9055a-7d34-44d9-a3cb-06b005b8c16b
    status: 404 Not Found
    code: 404
    duration: ""

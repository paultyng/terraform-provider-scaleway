---
version: 1
interactions:
- request:
    body: '{"name":"tf_tests_app_expires_at","organization_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","description":""}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://agw.stg.fr-par-2.internal.scaleway.com/iam/v1alpha1/applications
    method: POST
  response:
    body: '{"id":"b5d9f8c3-dc6d-4b8f-a989-0fa28a50cc17","name":"tf_tests_app_expires_at","description":"","created_at":"2022-07-06T14:24:37.322589Z","updated_at":"2022-07-06T14:24:37.322589Z","organization_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"nb_api_keys":0}'
    headers:
      Content-Length:
      - "270"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:24:37 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - fbe4ecf6-337c-441b-aa28-42747dc3e95f
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://agw.stg.fr-par-2.internal.scaleway.com/iam/v1alpha1/applications/b5d9f8c3-dc6d-4b8f-a989-0fa28a50cc17
    method: GET
  response:
    body: '{"id":"b5d9f8c3-dc6d-4b8f-a989-0fa28a50cc17","name":"tf_tests_app_expires_at","description":"","created_at":"2022-07-06T14:24:37.322589Z","updated_at":"2022-07-06T14:24:37.322589Z","organization_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"nb_api_keys":0}'
    headers:
      Content-Length:
      - "270"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:24:37 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 2fd05b56-5442-4bc1-a175-42e64303bbab
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"application_id":"b5d9f8c3-dc6d-4b8f-a989-0fa28a50cc17","expires_at":"2025-07-06T09:00:00Z","default_project_id":null,"description":"an
      api key with an expiration date"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://agw.stg.fr-par-2.internal.scaleway.com/iam/v1alpha1/api-keys
    method: POST
  response:
    body: '{"access_key":"SCWYPYXMKMCRJF2E9N2E","secret_key":"10a66c5f-e102-4003-8600-d3a26cfe6be1","description":"an
      api key with an expiration date","created_at":"2022-07-06T14:24:37.531158Z","updated_at":"2022-07-06T14:24:37.531158Z","expires_at":"2025-07-06T09:00:00Z","default_project_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"creation_ip":"","application_id":"b5d9f8c3-dc6d-4b8f-a989-0fa28a50cc17"}'
    headers:
      Content-Length:
      - "411"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:24:37 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 7207d7e6-b097-43e9-9c99-e2ec84f8e255
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://agw.stg.fr-par-2.internal.scaleway.com/iam/v1alpha1/api-keys/SCWYPYXMKMCRJF2E9N2E
    method: GET
  response:
    body: '{"access_key":"SCWYPYXMKMCRJF2E9N2E","secret_key":null,"description":"an
      api key with an expiration date","created_at":"2022-07-06T14:24:37.531158Z","updated_at":"2022-07-06T14:24:37.531158Z","expires_at":"2025-07-06T09:00:00Z","default_project_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"creation_ip":"","application_id":"b5d9f8c3-dc6d-4b8f-a989-0fa28a50cc17"}'
    headers:
      Content-Length:
      - "377"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:24:37 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - f963337c-1d1b-41d2-b728-8d60d36e2f98
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://agw.stg.fr-par-2.internal.scaleway.com/iam/v1alpha1/api-keys/SCWYPYXMKMCRJF2E9N2E
    method: GET
  response:
    body: '{"access_key":"SCWYPYXMKMCRJF2E9N2E","secret_key":null,"description":"an
      api key with an expiration date","created_at":"2022-07-06T14:24:37.531158Z","updated_at":"2022-07-06T14:24:37.531158Z","expires_at":"2025-07-06T09:00:00Z","default_project_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"creation_ip":"","application_id":"b5d9f8c3-dc6d-4b8f-a989-0fa28a50cc17"}'
    headers:
      Content-Length:
      - "377"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:24:37 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - f413277b-92c4-411c-b0b1-7b12d6d1c01f
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://agw.stg.fr-par-2.internal.scaleway.com/iam/v1alpha1/applications/b5d9f8c3-dc6d-4b8f-a989-0fa28a50cc17
    method: GET
  response:
    body: '{"id":"b5d9f8c3-dc6d-4b8f-a989-0fa28a50cc17","name":"tf_tests_app_expires_at","description":"","created_at":"2022-07-06T14:24:37.322589Z","updated_at":"2022-07-06T14:24:37.322589Z","organization_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"nb_api_keys":1}'
    headers:
      Content-Length:
      - "270"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:24:38 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 58a142d5-cc4d-45a3-b03a-9e0b52ebf147
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://agw.stg.fr-par-2.internal.scaleway.com/iam/v1alpha1/api-keys/SCWYPYXMKMCRJF2E9N2E
    method: GET
  response:
    body: '{"access_key":"SCWYPYXMKMCRJF2E9N2E","secret_key":null,"description":"an
      api key with an expiration date","created_at":"2022-07-06T14:24:37.531158Z","updated_at":"2022-07-06T14:24:37.531158Z","expires_at":"2025-07-06T09:00:00Z","default_project_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"creation_ip":"","application_id":"b5d9f8c3-dc6d-4b8f-a989-0fa28a50cc17"}'
    headers:
      Content-Length:
      - "377"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:24:38 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 8bab97e2-01a1-41cf-a258-2f3bf76cac6d
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://agw.stg.fr-par-2.internal.scaleway.com/iam/v1alpha1/api-keys/SCWYPYXMKMCRJF2E9N2E
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:24:38 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 26e8a2f5-a70c-46e3-8909-03939c79790a
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://agw.stg.fr-par-2.internal.scaleway.com/iam/v1alpha1/applications/b5d9f8c3-dc6d-4b8f-a989-0fa28a50cc17
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:24:38 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 24b21d0b-7e3f-4f84-a05f-8327f37d36e3
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://agw.stg.fr-par-2.internal.scaleway.com/iam/v1alpha1/api-keys/SCWYPYXMKMCRJF2E9N2E
    method: GET
  response:
    body: '{"message":"resource is not found","resource":"access_key","resource_id":"SCWYPYXMKMCRJF2E9N2E","type":"not_found"}'
    headers:
      Content-Length:
      - "115"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:24:38 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 5bc64727-1bc2-4a8e-8232-0985c53c1361
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://agw.stg.fr-par-2.internal.scaleway.com/iam/v1alpha1/applications/b5d9f8c3-dc6d-4b8f-a989-0fa28a50cc17
    method: GET
  response:
    body: '{"message":"resource is not found","resource":"application","resource_id":"b5d9f8c3-dc6d-4b8f-a989-0fa28a50cc17","type":"not_found"}'
    headers:
      Content-Length:
      - "132"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:24:38 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 21f8128d-2fb3-4892-9c69-18d013e5ff65
    status: 404 Not Found
    code: 404
    duration: ""

---
version: 1
interactions:
- request:
    body: '{"name":"tf_tests_app_expires_at","organization_id":"dd5b8103-52ef-40b6-b157-35a426650401","description":""}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications
    method: POST
  response:
    body: '{"id":"b8308642-fca2-4d15-aeeb-616e82190d25","name":"tf_tests_app_expires_at","description":"","created_at":"2022-07-06T15:32:33.667350Z","updated_at":"2022-07-06T15:32:33.667350Z","organization_id":"dd5b8103-52ef-40b6-b157-35a426650401","editable":true,"nb_api_keys":0}'
    headers:
      Content-Length:
      - "270"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 15:32:33 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 67301999-4594-49d6-a600-5bc4fe881f4d
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications/b8308642-fca2-4d15-aeeb-616e82190d25
    method: GET
  response:
    body: '{"id":"b8308642-fca2-4d15-aeeb-616e82190d25","name":"tf_tests_app_expires_at","description":"","created_at":"2022-07-06T15:32:33.667350Z","updated_at":"2022-07-06T15:32:33.667350Z","organization_id":"dd5b8103-52ef-40b6-b157-35a426650401","editable":true,"nb_api_keys":0}'
    headers:
      Content-Length:
      - "270"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 15:32:33 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 3541e790-d52b-4ff6-890d-bc7eedb1c031
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"application_id":"b8308642-fca2-4d15-aeeb-616e82190d25","expires_at":"2025-07-06T09:00:00Z","default_project_id":null,"description":"an
      api key with an expiration date"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys
    method: POST
  response:
    body: '{"access_key":"SCWEG4XGDR8EA5H2JX8K","secret_key":"80354a56-d35a-440b-affb-5ff0a7aa61ff","description":"an
      api key with an expiration date","created_at":"2022-07-06T15:32:33.849309Z","updated_at":"2022-07-06T15:32:33.849309Z","expires_at":"2025-07-06T09:00:00Z","default_project_id":"dd5b8103-52ef-40b6-b157-35a426650401","editable":true,"creation_ip":"","application_id":"b8308642-fca2-4d15-aeeb-616e82190d25"}'
    headers:
      Content-Length:
      - "411"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 15:32:33 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - fbd4227c-0d1c-4927-9b99-9268fc720303
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCWEG4XGDR8EA5H2JX8K
    method: GET
  response:
    body: '{"access_key":"SCWEG4XGDR8EA5H2JX8K","secret_key":null,"description":"an
      api key with an expiration date","created_at":"2022-07-06T15:32:33.849309Z","updated_at":"2022-07-06T15:32:33.849309Z","expires_at":"2025-07-06T09:00:00Z","default_project_id":"dd5b8103-52ef-40b6-b157-35a426650401","editable":true,"creation_ip":"","application_id":"b8308642-fca2-4d15-aeeb-616e82190d25"}'
    headers:
      Content-Length:
      - "377"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 15:32:33 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 70336f09-ed99-4563-9307-aff3cab32594
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCWEG4XGDR8EA5H2JX8K
    method: GET
  response:
    body: '{"access_key":"SCWEG4XGDR8EA5H2JX8K","secret_key":null,"description":"an
      api key with an expiration date","created_at":"2022-07-06T15:32:33.849309Z","updated_at":"2022-07-06T15:32:33.849309Z","expires_at":"2025-07-06T09:00:00Z","default_project_id":"dd5b8103-52ef-40b6-b157-35a426650401","editable":true,"creation_ip":"","application_id":"b8308642-fca2-4d15-aeeb-616e82190d25"}'
    headers:
      Content-Length:
      - "377"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 15:32:34 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - bdb5fb5b-9611-4566-a370-98c7d9badc97
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications/b8308642-fca2-4d15-aeeb-616e82190d25
    method: GET
  response:
    body: '{"id":"b8308642-fca2-4d15-aeeb-616e82190d25","name":"tf_tests_app_expires_at","description":"","created_at":"2022-07-06T15:32:33.667350Z","updated_at":"2022-07-06T15:32:33.667350Z","organization_id":"dd5b8103-52ef-40b6-b157-35a426650401","editable":true,"nb_api_keys":1}'
    headers:
      Content-Length:
      - "270"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 15:32:34 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - ec170f4d-631a-42be-a10e-215b65dbf1bf
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCWEG4XGDR8EA5H2JX8K
    method: GET
  response:
    body: '{"access_key":"SCWEG4XGDR8EA5H2JX8K","secret_key":null,"description":"an
      api key with an expiration date","created_at":"2022-07-06T15:32:33.849309Z","updated_at":"2022-07-06T15:32:33.849309Z","expires_at":"2025-07-06T09:00:00Z","default_project_id":"dd5b8103-52ef-40b6-b157-35a426650401","editable":true,"creation_ip":"","application_id":"b8308642-fca2-4d15-aeeb-616e82190d25"}'
    headers:
      Content-Length:
      - "377"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 15:32:34 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 68de07ff-f11b-4591-87c4-a9071ff04f95
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCWEG4XGDR8EA5H2JX8K
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 15:32:34 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - c0dfc00a-ceab-418c-87de-60e5549363a6
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications/b8308642-fca2-4d15-aeeb-616e82190d25
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 15:32:34 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - fada9b47-4426-401f-85da-094e0a03cadc
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCWEG4XGDR8EA5H2JX8K
    method: GET
  response:
    body: '{"message":"resource is not found","resource":"access_key","resource_id":"SCWEG4XGDR8EA5H2JX8K","type":"not_found"}'
    headers:
      Content-Length:
      - "115"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 15:32:34 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 4c269900-3d56-45a9-9a5d-c26f70998310
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications/b8308642-fca2-4d15-aeeb-616e82190d25
    method: GET
  response:
    body: '{"message":"resource is not found","resource":"application","resource_id":"b8308642-fca2-4d15-aeeb-616e82190d25","type":"not_found"}'
    headers:
      Content-Length:
      - "132"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 15:32:35 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 2a058b3e-7d4b-4984-a01e-b0a94a5f4eb8
    status: 404 Not Found
    code: 404
    duration: ""

---
version: 1
interactions:
- request:
    body: '{"name":"tf_tests_app_expires_at","organization_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","description":""}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications
    method: POST
  response:
    body: '{"id":"d1c3331a-7320-4f06-9507-b5c037257c11","name":"tf_tests_app_expires_at","description":"","created_at":"2022-07-06T14:36:17.372355Z","updated_at":"2022-07-06T14:36:17.372355Z","organization_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"nb_api_keys":0}'
    headers:
      Content-Length:
      - "270"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:36:17 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 987573f7-ac28-46e7-9579-eb0e434c9d46
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications/d1c3331a-7320-4f06-9507-b5c037257c11
    method: GET
  response:
    body: '{"id":"d1c3331a-7320-4f06-9507-b5c037257c11","name":"tf_tests_app_expires_at","description":"","created_at":"2022-07-06T14:36:17.372355Z","updated_at":"2022-07-06T14:36:17.372355Z","organization_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"nb_api_keys":0}'
    headers:
      Content-Length:
      - "270"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:36:17 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - c87cf93e-9665-4e3b-9bd1-bc0e77b21d6a
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"application_id":"d1c3331a-7320-4f06-9507-b5c037257c11","expires_at":"2025-07-06T09:00:00Z","default_project_id":null,"description":"an
      api key with an expiration date"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys
    method: POST
  response:
    body: '{"access_key":"SCWS3VAZYNR9RTDZJKBB","secret_key":"a0c9c647-fc82-44c8-b909-1d69bcc8020b","description":"an
      api key with an expiration date","created_at":"2022-07-06T14:36:17.549229Z","updated_at":"2022-07-06T14:36:17.549229Z","expires_at":"2025-07-06T09:00:00Z","default_project_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"creation_ip":"","application_id":"d1c3331a-7320-4f06-9507-b5c037257c11"}'
    headers:
      Content-Length:
      - "411"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:36:17 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - cf1e2579-da9f-4dcd-8843-e8b8011463b2
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCWS3VAZYNR9RTDZJKBB
    method: GET
  response:
    body: '{"access_key":"SCWS3VAZYNR9RTDZJKBB","secret_key":null,"description":"an
      api key with an expiration date","created_at":"2022-07-06T14:36:17.549229Z","updated_at":"2022-07-06T14:36:17.549229Z","expires_at":"2025-07-06T09:00:00Z","default_project_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"creation_ip":"","application_id":"d1c3331a-7320-4f06-9507-b5c037257c11"}'
    headers:
      Content-Length:
      - "377"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:36:17 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - c84a609e-0fd7-4354-9732-008f7b8bc18e
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCWS3VAZYNR9RTDZJKBB
    method: GET
  response:
    body: '{"access_key":"SCWS3VAZYNR9RTDZJKBB","secret_key":null,"description":"an
      api key with an expiration date","created_at":"2022-07-06T14:36:17.549229Z","updated_at":"2022-07-06T14:36:17.549229Z","expires_at":"2025-07-06T09:00:00Z","default_project_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"creation_ip":"","application_id":"d1c3331a-7320-4f06-9507-b5c037257c11"}'
    headers:
      Content-Length:
      - "377"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:36:17 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 1085d2c0-d5c7-4bb8-bc99-487831f83599
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications/d1c3331a-7320-4f06-9507-b5c037257c11
    method: GET
  response:
    body: '{"id":"d1c3331a-7320-4f06-9507-b5c037257c11","name":"tf_tests_app_expires_at","description":"","created_at":"2022-07-06T14:36:17.372355Z","updated_at":"2022-07-06T14:36:17.372355Z","organization_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"nb_api_keys":1}'
    headers:
      Content-Length:
      - "270"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:36:18 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 273e6e4d-91d8-4e26-a0c6-cf49aa2c2b14
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCWS3VAZYNR9RTDZJKBB
    method: GET
  response:
    body: '{"access_key":"SCWS3VAZYNR9RTDZJKBB","secret_key":null,"description":"an
      api key with an expiration date","created_at":"2022-07-06T14:36:17.549229Z","updated_at":"2022-07-06T14:36:17.549229Z","expires_at":"2025-07-06T09:00:00Z","default_project_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"creation_ip":"","application_id":"d1c3331a-7320-4f06-9507-b5c037257c11"}'
    headers:
      Content-Length:
      - "377"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:36:18 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 9e2ec0de-bf1e-46e2-b607-ed5cde8a582a
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCWS3VAZYNR9RTDZJKBB
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:36:18 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - dbe724df-9d27-47b0-b77b-50ae11858369
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications/d1c3331a-7320-4f06-9507-b5c037257c11
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:36:18 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 2cd3ef1c-1535-4386-a89a-2736daee04b3
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCWS3VAZYNR9RTDZJKBB
    method: GET
  response:
    body: '{"message":"resource is not found","resource":"access_key","resource_id":"SCWS3VAZYNR9RTDZJKBB","type":"not_found"}'
    headers:
      Content-Length:
      - "115"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:36:18 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - b4aca38d-efaa-42b1-a412-6a8ce7c5494a
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications/d1c3331a-7320-4f06-9507-b5c037257c11
    method: GET
  response:
    body: '{"message":"resource is not found","resource":"application","resource_id":"d1c3331a-7320-4f06-9507-b5c037257c11","type":"not_found"}'
    headers:
      Content-Length:
      - "132"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:36:18 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 78de72a0-b9e6-44d5-9661-b7a83031391d
    status: 404 Not Found
    code: 404
    duration: ""

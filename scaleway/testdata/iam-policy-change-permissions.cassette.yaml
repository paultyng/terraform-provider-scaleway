---
version: 1
interactions:
- request:
    body: '{"name":"tf_tests_policy_changepermissions","description":"a description","organization_id":"458f88ce-0f70-48b5-834d-5304b8b76253","rules":[{"permission_set_names":["AllProductsFullAccess"],"project_ids":null,"organization_id":"458f88ce-0f70-48b5-834d-5304b8b76253"}],"no_principal":true}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies
    method: POST
  response:
    body: '{"id":"b5c385ec-9281-42b7-b4db-9077bbc94dd8","name":"tf_tests_policy_changepermissions","description":"a
      description","organization_id":"458f88ce-0f70-48b5-834d-5304b8b76253","created_at":"2022-07-06T13:33:46.504696Z","updated_at":"2022-07-06T13:33:46.504696Z","editable":true,"nb_rules":1,"nb_scopes":1,"nb_permission_sets":1,"no_principal":true}'
    headers:
      Content-Length:
      - "347"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 13:33:46 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 4fd8c7b0-e21d-41f2-a725-ba7d6253ce9f
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/b5c385ec-9281-42b7-b4db-9077bbc94dd8
    method: GET
  response:
    body: '{"id":"b5c385ec-9281-42b7-b4db-9077bbc94dd8","name":"tf_tests_policy_changepermissions","description":"a
      description","organization_id":"458f88ce-0f70-48b5-834d-5304b8b76253","created_at":"2022-07-06T13:33:46.504696Z","updated_at":"2022-07-06T13:33:46.504696Z","editable":true,"nb_rules":1,"nb_scopes":1,"nb_permission_sets":1,"no_principal":true}'
    headers:
      Content-Length:
      - "347"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 13:33:46 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - d50fac11-93a6-4234-8cf8-15394438503e
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/rules?policy_id=b5c385ec-9281-42b7-b4db-9077bbc94dd8
    method: GET
  response:
    body: '{"rules":[{"id":"624eed17-ab90-4e92-91b1-5ad8f3330c65","permission_set_names":["AllProductsFullAccess"],"permission_sets_scope_type":"organization","organization_id":"458f88ce-0f70-48b5-834d-5304b8b76253"}],"total_count":1}'
    headers:
      Content-Length:
      - "223"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 13:33:46 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 2af0dc29-f8fb-4814-8a5d-8f3344b67e4a
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/b5c385ec-9281-42b7-b4db-9077bbc94dd8
    method: GET
  response:
    body: '{"id":"b5c385ec-9281-42b7-b4db-9077bbc94dd8","name":"tf_tests_policy_changepermissions","description":"a
      description","organization_id":"458f88ce-0f70-48b5-834d-5304b8b76253","created_at":"2022-07-06T13:33:46.504696Z","updated_at":"2022-07-06T13:33:46.504696Z","editable":true,"nb_rules":1,"nb_scopes":1,"nb_permission_sets":1,"no_principal":true}'
    headers:
      Content-Length:
      - "347"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 13:33:46 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 5fe46bb0-7ba9-4f3a-9a87-2fca3ee5c1fb
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/b5c385ec-9281-42b7-b4db-9077bbc94dd8
    method: GET
  response:
    body: '{"id":"b5c385ec-9281-42b7-b4db-9077bbc94dd8","name":"tf_tests_policy_changepermissions","description":"a
      description","organization_id":"458f88ce-0f70-48b5-834d-5304b8b76253","created_at":"2022-07-06T13:33:46.504696Z","updated_at":"2022-07-06T13:33:46.504696Z","editable":true,"nb_rules":1,"nb_scopes":1,"nb_permission_sets":1,"no_principal":true}'
    headers:
      Content-Length:
      - "347"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 13:33:47 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 6f035861-7ea1-400c-b640-62e68bb54e7a
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/rules?policy_id=b5c385ec-9281-42b7-b4db-9077bbc94dd8
    method: GET
  response:
    body: '{"rules":[{"id":"624eed17-ab90-4e92-91b1-5ad8f3330c65","permission_set_names":["AllProductsFullAccess"],"permission_sets_scope_type":"organization","organization_id":"458f88ce-0f70-48b5-834d-5304b8b76253"}],"total_count":1}'
    headers:
      Content-Length:
      - "223"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 13:33:47 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 32c7e236-dc3f-4b9c-964f-73a7ba998ed8
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/b5c385ec-9281-42b7-b4db-9077bbc94dd8
    method: GET
  response:
    body: '{"id":"b5c385ec-9281-42b7-b4db-9077bbc94dd8","name":"tf_tests_policy_changepermissions","description":"a
      description","organization_id":"458f88ce-0f70-48b5-834d-5304b8b76253","created_at":"2022-07-06T13:33:46.504696Z","updated_at":"2022-07-06T13:33:46.504696Z","editable":true,"nb_rules":1,"nb_scopes":1,"nb_permission_sets":1,"no_principal":true}'
    headers:
      Content-Length:
      - "347"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 13:33:47 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 47afb877-9b2e-4031-b01b-966d810dffa7
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/rules?policy_id=b5c385ec-9281-42b7-b4db-9077bbc94dd8
    method: GET
  response:
    body: '{"rules":[{"id":"624eed17-ab90-4e92-91b1-5ad8f3330c65","permission_set_names":["AllProductsFullAccess"],"permission_sets_scope_type":"organization","organization_id":"458f88ce-0f70-48b5-834d-5304b8b76253"}],"total_count":1}'
    headers:
      Content-Length:
      - "223"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 13:33:47 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 5af233ab-3b9b-4cc6-89dd-343c6f6c9df4
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"policy_id":"b5c385ec-9281-42b7-b4db-9077bbc94dd8","rules":[{"permission_set_names":["AllProductsFullAccess","ContainerRegistryReadOnly"],"project_ids":null,"organization_id":"458f88ce-0f70-48b5-834d-5304b8b76253"}]}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/rules
    method: PUT
  response:
    body: '{"rules":[{"id":"530377c9-8ca2-4fd4-b177-aacb78966b6b","permission_set_names":["AllProductsFullAccess","ContainerRegistryReadOnly"],"permission_sets_scope_type":"organization","organization_id":"458f88ce-0f70-48b5-834d-5304b8b76253"}]}'
    headers:
      Content-Length:
      - "235"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 13:33:47 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 66c6aeb8-0729-4fb9-9948-a28161b175b2
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/b5c385ec-9281-42b7-b4db-9077bbc94dd8
    method: GET
  response:
    body: '{"id":"b5c385ec-9281-42b7-b4db-9077bbc94dd8","name":"tf_tests_policy_changepermissions","description":"a
      description","organization_id":"458f88ce-0f70-48b5-834d-5304b8b76253","created_at":"2022-07-06T13:33:46.504696Z","updated_at":"2022-07-06T13:33:46.504696Z","editable":true,"nb_rules":1,"nb_scopes":1,"nb_permission_sets":2,"no_principal":true}'
    headers:
      Content-Length:
      - "347"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 13:33:48 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 8b75e353-0b1f-4df1-bb8c-e3fb87593ca5
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/rules?policy_id=b5c385ec-9281-42b7-b4db-9077bbc94dd8
    method: GET
  response:
    body: '{"rules":[{"id":"530377c9-8ca2-4fd4-b177-aacb78966b6b","permission_set_names":["ContainerRegistryReadOnly","AllProductsFullAccess"],"permission_sets_scope_type":"organization","organization_id":"458f88ce-0f70-48b5-834d-5304b8b76253"}],"total_count":1}'
    headers:
      Content-Length:
      - "251"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 13:33:48 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 38073ccd-221a-41ed-8942-a9ab1cb7a5f3
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/b5c385ec-9281-42b7-b4db-9077bbc94dd8
    method: GET
  response:
    body: '{"id":"b5c385ec-9281-42b7-b4db-9077bbc94dd8","name":"tf_tests_policy_changepermissions","description":"a
      description","organization_id":"458f88ce-0f70-48b5-834d-5304b8b76253","created_at":"2022-07-06T13:33:46.504696Z","updated_at":"2022-07-06T13:33:46.504696Z","editable":true,"nb_rules":1,"nb_scopes":1,"nb_permission_sets":2,"no_principal":true}'
    headers:
      Content-Length:
      - "347"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 13:33:48 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 73584208-7174-4604-9f94-e8a882209bfc
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/b5c385ec-9281-42b7-b4db-9077bbc94dd8
    method: GET
  response:
    body: '{"id":"b5c385ec-9281-42b7-b4db-9077bbc94dd8","name":"tf_tests_policy_changepermissions","description":"a
      description","organization_id":"458f88ce-0f70-48b5-834d-5304b8b76253","created_at":"2022-07-06T13:33:46.504696Z","updated_at":"2022-07-06T13:33:46.504696Z","editable":true,"nb_rules":1,"nb_scopes":1,"nb_permission_sets":2,"no_principal":true}'
    headers:
      Content-Length:
      - "347"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 13:33:48 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - c6cfa565-237c-4560-bd0d-32be91765043
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/rules?policy_id=b5c385ec-9281-42b7-b4db-9077bbc94dd8
    method: GET
  response:
    body: '{"rules":[{"id":"530377c9-8ca2-4fd4-b177-aacb78966b6b","permission_set_names":["ContainerRegistryReadOnly","AllProductsFullAccess"],"permission_sets_scope_type":"organization","organization_id":"458f88ce-0f70-48b5-834d-5304b8b76253"}],"total_count":1}'
    headers:
      Content-Length:
      - "251"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 13:33:48 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 33fc108f-2162-4cba-a5b8-b1d01b7c2c07
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/b5c385ec-9281-42b7-b4db-9077bbc94dd8
    method: GET
  response:
    body: '{"id":"b5c385ec-9281-42b7-b4db-9077bbc94dd8","name":"tf_tests_policy_changepermissions","description":"a
      description","organization_id":"458f88ce-0f70-48b5-834d-5304b8b76253","created_at":"2022-07-06T13:33:46.504696Z","updated_at":"2022-07-06T13:33:46.504696Z","editable":true,"nb_rules":1,"nb_scopes":1,"nb_permission_sets":2,"no_principal":true}'
    headers:
      Content-Length:
      - "347"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 13:33:48 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 0368cbbc-47ca-4ebf-b499-630d8a67555d
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/rules?policy_id=b5c385ec-9281-42b7-b4db-9077bbc94dd8
    method: GET
  response:
    body: '{"rules":[{"id":"530377c9-8ca2-4fd4-b177-aacb78966b6b","permission_set_names":["ContainerRegistryReadOnly","AllProductsFullAccess"],"permission_sets_scope_type":"organization","organization_id":"458f88ce-0f70-48b5-834d-5304b8b76253"}],"total_count":1}'
    headers:
      Content-Length:
      - "251"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 13:33:48 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 88cedf7c-a7af-460c-ad8a-71b049a0029c
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"policy_id":"b5c385ec-9281-42b7-b4db-9077bbc94dd8","rules":[{"permission_set_names":["ContainerRegistryReadOnly"],"project_ids":null,"organization_id":"458f88ce-0f70-48b5-834d-5304b8b76253"}]}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/rules
    method: PUT
  response:
    body: '{"rules":[{"id":"2cdfa5a6-4fb5-425c-a90b-aeb123e6ec5b","permission_set_names":["ContainerRegistryReadOnly"],"permission_sets_scope_type":"organization","organization_id":"458f88ce-0f70-48b5-834d-5304b8b76253"}]}'
    headers:
      Content-Length:
      - "211"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 13:33:49 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 8dd0a816-a000-411f-a3e5-dcf6179148a8
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/b5c385ec-9281-42b7-b4db-9077bbc94dd8
    method: GET
  response:
    body: '{"id":"b5c385ec-9281-42b7-b4db-9077bbc94dd8","name":"tf_tests_policy_changepermissions","description":"a
      description","organization_id":"458f88ce-0f70-48b5-834d-5304b8b76253","created_at":"2022-07-06T13:33:46.504696Z","updated_at":"2022-07-06T13:33:46.504696Z","editable":true,"nb_rules":1,"nb_scopes":1,"nb_permission_sets":1,"no_principal":true}'
    headers:
      Content-Length:
      - "347"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 13:33:49 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 6e8b29f4-d87c-4a5c-8826-ae3a00024752
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/rules?policy_id=b5c385ec-9281-42b7-b4db-9077bbc94dd8
    method: GET
  response:
    body: '{"rules":[{"id":"2cdfa5a6-4fb5-425c-a90b-aeb123e6ec5b","permission_set_names":["ContainerRegistryReadOnly"],"permission_sets_scope_type":"organization","organization_id":"458f88ce-0f70-48b5-834d-5304b8b76253"}],"total_count":1}'
    headers:
      Content-Length:
      - "227"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 13:33:49 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 0244d1f7-edd8-4ab5-8634-fdb70f43e7c7
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/b5c385ec-9281-42b7-b4db-9077bbc94dd8
    method: GET
  response:
    body: '{"id":"b5c385ec-9281-42b7-b4db-9077bbc94dd8","name":"tf_tests_policy_changepermissions","description":"a
      description","organization_id":"458f88ce-0f70-48b5-834d-5304b8b76253","created_at":"2022-07-06T13:33:46.504696Z","updated_at":"2022-07-06T13:33:46.504696Z","editable":true,"nb_rules":1,"nb_scopes":1,"nb_permission_sets":1,"no_principal":true}'
    headers:
      Content-Length:
      - "347"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 13:33:49 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 694ed533-7889-4572-97b0-47dded097532
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/b5c385ec-9281-42b7-b4db-9077bbc94dd8
    method: GET
  response:
    body: '{"id":"b5c385ec-9281-42b7-b4db-9077bbc94dd8","name":"tf_tests_policy_changepermissions","description":"a
      description","organization_id":"458f88ce-0f70-48b5-834d-5304b8b76253","created_at":"2022-07-06T13:33:46.504696Z","updated_at":"2022-07-06T13:33:46.504696Z","editable":true,"nb_rules":1,"nb_scopes":1,"nb_permission_sets":1,"no_principal":true}'
    headers:
      Content-Length:
      - "347"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 13:33:49 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - f66217e9-5314-4922-80e3-fcab250313b0
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/rules?policy_id=b5c385ec-9281-42b7-b4db-9077bbc94dd8
    method: GET
  response:
    body: '{"rules":[{"id":"2cdfa5a6-4fb5-425c-a90b-aeb123e6ec5b","permission_set_names":["ContainerRegistryReadOnly"],"permission_sets_scope_type":"organization","organization_id":"458f88ce-0f70-48b5-834d-5304b8b76253"}],"total_count":1}'
    headers:
      Content-Length:
      - "227"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 13:33:49 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 6a604607-cf28-44c3-9da6-2b97925cf55f
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/b5c385ec-9281-42b7-b4db-9077bbc94dd8
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 13:33:50 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - e2bfa4f1-250e-4f13-b330-2e775573e552
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.2; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/policies/b5c385ec-9281-42b7-b4db-9077bbc94dd8
    method: GET
  response:
    body: '{"message":"resource is not found","resource":"policy","resource_id":"b5c385ec-9281-42b7-b4db-9077bbc94dd8","type":"not_found"}'
    headers:
      Content-Length:
      - "127"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 13:33:50 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 63a36612-5f7b-4e8e-be55-0c4135df053f
    status: 404 Not Found
    code: 404
    duration: ""

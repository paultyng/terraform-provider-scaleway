---
version: 1
interactions:
- request:
    body: '{"project_id":"105bdce1-64c0-48ab-899d-868455867ecf","tags":[]}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/vpc-gw/v1beta1/zones/fr-par-1/ips
    method: POST
  response:
    body: '{"message":"{\"type\": \"server_error\", \"message\": \"Internal error\"}"}'
    headers:
      Content-Length:
      - "75"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 08 Dec 2021 14:28:02 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 7d81ee38-1dc5-47ed-8e7d-857835810614
    status: 500 Internal Server Error
    code: 500
    duration: ""
- request:
    body: '{"project_id":"105bdce1-64c0-48ab-899d-868455867ecf","tags":[]}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/vpc-gw/v1beta1/zones/fr-par-1/ips
    method: POST
  response:
    body: '{"id":"6217fc64-2492-4e41-82e6-b0564d950134","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","project_id":"105bdce1-64c0-48ab-899d-868455867ecf","created_at":"2021-12-08T14:28:04.796431Z","updated_at":"2021-12-08T14:28:04.796431Z","tags":[],"address":"51.158.96.6","reverse":"6-96-158-51.instances.scw.cloud","zone":"fr-par-1"}'
    headers:
      Content-Length:
      - "336"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 08 Dec 2021 14:28:04 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 2672b3d8-f282-43fb-9ae6-24e4849c6174
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/vpc-gw/v1beta1/zones/fr-par-1/ips/6217fc64-2492-4e41-82e6-b0564d950134
    method: GET
  response:
    body: '{"id":"6217fc64-2492-4e41-82e6-b0564d950134","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","project_id":"105bdce1-64c0-48ab-899d-868455867ecf","created_at":"2021-12-08T14:28:04.796431Z","updated_at":"2021-12-08T14:28:04.796431Z","tags":[],"address":"51.158.96.6","reverse":"6-96-158-51.instances.scw.cloud","zone":"fr-par-1"}'
    headers:
      Content-Length:
      - "336"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 08 Dec 2021 14:28:04 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 590d30e5-ac5a-47a8-8fd5-a22a2a950352
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"project_id":"105bdce1-64c0-48ab-899d-868455867ecf","name":"foobar","tags":[],"type":"VPC-GW-S","upstream_dns_servers":[],"ip_id":"6217fc64-2492-4e41-82e6-b0564d950134"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/vpc-gw/v1beta1/zones/fr-par-1/gateways
    method: POST
  response:
    body: '{"id":"99c73bb1-21c2-4b2c-aeda-a5e6ba9f4d1b","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","project_id":"105bdce1-64c0-48ab-899d-868455867ecf","created_at":"2021-12-08T14:28:05.089039Z","updated_at":"2021-12-08T14:28:05.089039Z","type":{"name":"VPC-GW-S","bandwidth":100000000,"zone":"fr-par-1"},"status":"stopped","name":"foobar","tags":[],"ip":{"id":"6217fc64-2492-4e41-82e6-b0564d950134","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","project_id":"105bdce1-64c0-48ab-899d-868455867ecf","created_at":"2021-12-08T14:28:04.796431Z","updated_at":"2021-12-08T14:28:04.796431Z","tags":[],"address":"51.158.96.6","reverse":"6-96-158-51.instances.scw.cloud","zone":"fr-par-1"},"gateway_networks":[],"upstream_dns_servers":[],"version":null,"can_upgrade_to":null,"zone":"fr-par-1"}'
    headers:
      Content-Length:
      - "797"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 08 Dec 2021 14:28:05 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - e52b4d5b-3f62-40dc-90bf-053141fa335e
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/vpc-gw/v1beta1/zones/fr-par-1/gateways/99c73bb1-21c2-4b2c-aeda-a5e6ba9f4d1b
    method: GET
  response:
    body: '{"id":"99c73bb1-21c2-4b2c-aeda-a5e6ba9f4d1b","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","project_id":"105bdce1-64c0-48ab-899d-868455867ecf","created_at":"2021-12-08T14:28:05.089039Z","updated_at":"2021-12-08T14:28:05.118230Z","type":{"name":"VPC-GW-S","bandwidth":100000000,"zone":"fr-par-1"},"status":"stopped","name":"foobar","tags":[],"ip":{"id":"6217fc64-2492-4e41-82e6-b0564d950134","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","project_id":"105bdce1-64c0-48ab-899d-868455867ecf","created_at":"2021-12-08T14:28:04.796431Z","updated_at":"2021-12-08T14:28:04.796431Z","tags":[],"address":"51.158.96.6","reverse":"6-96-158-51.instances.scw.cloud","zone":"fr-par-1"},"gateway_networks":[],"upstream_dns_servers":[],"version":"0.2.15","can_upgrade_to":null,"zone":"fr-par-1"}'
    headers:
      Content-Length:
      - "801"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 08 Dec 2021 14:28:05 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 586f33c8-0313-4b26-9fb5-109c501fe768
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/vpc-gw/v1beta1/zones/fr-par-1/gateways/99c73bb1-21c2-4b2c-aeda-a5e6ba9f4d1b
    method: GET
  response:
    body: '{"id":"99c73bb1-21c2-4b2c-aeda-a5e6ba9f4d1b","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","project_id":"105bdce1-64c0-48ab-899d-868455867ecf","created_at":"2021-12-08T14:28:05.089039Z","updated_at":"2021-12-08T14:28:05.118230Z","type":{"name":"VPC-GW-S","bandwidth":100000000,"zone":"fr-par-1"},"status":"stopped","name":"foobar","tags":[],"ip":{"id":"6217fc64-2492-4e41-82e6-b0564d950134","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","project_id":"105bdce1-64c0-48ab-899d-868455867ecf","created_at":"2021-12-08T14:28:04.796431Z","updated_at":"2021-12-08T14:28:04.796431Z","tags":[],"address":"51.158.96.6","reverse":"6-96-158-51.instances.scw.cloud","zone":"fr-par-1"},"gateway_networks":[],"upstream_dns_servers":[],"version":"0.2.15","can_upgrade_to":null,"zone":"fr-par-1"}'
    headers:
      Content-Length:
      - "801"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 08 Dec 2021 14:28:05 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - f1ce7b92-06e7-4c56-940b-b2eb543b94d3
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/vpc-gw/v1beta1/zones/fr-par-1/ips/6217fc64-2492-4e41-82e6-b0564d950134
    method: GET
  response:
    body: '{"id":"6217fc64-2492-4e41-82e6-b0564d950134","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","project_id":"105bdce1-64c0-48ab-899d-868455867ecf","created_at":"2021-12-08T14:28:04.796431Z","updated_at":"2021-12-08T14:28:04.796431Z","tags":[],"address":"51.158.96.6","reverse":"6-96-158-51.instances.scw.cloud","zone":"fr-par-1"}'
    headers:
      Content-Length:
      - "336"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 08 Dec 2021 14:28:05 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - fa759d8b-833a-4864-bcc9-07b9b0db77a9
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/vpc-gw/v1beta1/zones/fr-par-1/gateways/99c73bb1-21c2-4b2c-aeda-a5e6ba9f4d1b
    method: GET
  response:
    body: '{"id":"99c73bb1-21c2-4b2c-aeda-a5e6ba9f4d1b","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","project_id":"105bdce1-64c0-48ab-899d-868455867ecf","created_at":"2021-12-08T14:28:05.089039Z","updated_at":"2021-12-08T14:28:05.270445Z","type":{"name":"VPC-GW-S","bandwidth":100000000,"zone":"fr-par-1"},"status":"configuring","name":"foobar","tags":[],"ip":{"id":"6217fc64-2492-4e41-82e6-b0564d950134","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","project_id":"105bdce1-64c0-48ab-899d-868455867ecf","created_at":"2021-12-08T14:28:04.796431Z","updated_at":"2021-12-08T14:28:04.796431Z","tags":[],"address":"51.158.96.6","reverse":"6-96-158-51.instances.scw.cloud","zone":"fr-par-1"},"gateway_networks":[],"upstream_dns_servers":[],"version":"0.2.15","can_upgrade_to":null,"zone":"fr-par-1"}'
    headers:
      Content-Length:
      - "805"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 08 Dec 2021 14:28:05 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 697f0841-cdb8-4710-b0cf-358ff0b79aaf
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/vpc-gw/v1beta1/zones/fr-par-1/ips/6217fc64-2492-4e41-82e6-b0564d950134
    method: GET
  response:
    body: '{"id":"6217fc64-2492-4e41-82e6-b0564d950134","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","project_id":"105bdce1-64c0-48ab-899d-868455867ecf","created_at":"2021-12-08T14:28:04.796431Z","updated_at":"2021-12-08T14:28:04.796431Z","tags":[],"address":"51.158.96.6","reverse":"6-96-158-51.instances.scw.cloud","zone":"fr-par-1"}'
    headers:
      Content-Length:
      - "336"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 08 Dec 2021 14:28:06 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 584a92fd-149d-4e1a-a082-de247c753c6e
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/vpc-gw/v1beta1/zones/fr-par-1/gateways/99c73bb1-21c2-4b2c-aeda-a5e6ba9f4d1b
    method: GET
  response:
    body: '{"id":"99c73bb1-21c2-4b2c-aeda-a5e6ba9f4d1b","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","project_id":"105bdce1-64c0-48ab-899d-868455867ecf","created_at":"2021-12-08T14:28:05.089039Z","updated_at":"2021-12-08T14:28:05.692650Z","type":{"name":"VPC-GW-S","bandwidth":100000000,"zone":"fr-par-1"},"status":"running","name":"foobar","tags":[],"ip":{"id":"6217fc64-2492-4e41-82e6-b0564d950134","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","project_id":"105bdce1-64c0-48ab-899d-868455867ecf","created_at":"2021-12-08T14:28:04.796431Z","updated_at":"2021-12-08T14:28:04.796431Z","tags":[],"address":"51.158.96.6","reverse":"6-96-158-51.instances.scw.cloud","zone":"fr-par-1"},"gateway_networks":[],"upstream_dns_servers":[],"version":"0.2.15","can_upgrade_to":null,"zone":"fr-par-1"}'
    headers:
      Content-Length:
      - "801"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 08 Dec 2021 14:28:06 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 30a4b7f4-e338-44ab-9bed-a7e99e1ad378
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/vpc-gw/v1beta1/zones/fr-par-1/gateways/99c73bb1-21c2-4b2c-aeda-a5e6ba9f4d1b
    method: GET
  response:
    body: '{"id":"99c73bb1-21c2-4b2c-aeda-a5e6ba9f4d1b","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","project_id":"105bdce1-64c0-48ab-899d-868455867ecf","created_at":"2021-12-08T14:28:05.089039Z","updated_at":"2021-12-08T14:28:05.692650Z","type":{"name":"VPC-GW-S","bandwidth":100000000,"zone":"fr-par-1"},"status":"running","name":"foobar","tags":[],"ip":{"id":"6217fc64-2492-4e41-82e6-b0564d950134","organization_id":"105bdce1-64c0-48ab-899d-868455867ecf","project_id":"105bdce1-64c0-48ab-899d-868455867ecf","created_at":"2021-12-08T14:28:04.796431Z","updated_at":"2021-12-08T14:28:04.796431Z","tags":[],"address":"51.158.96.6","reverse":"6-96-158-51.instances.scw.cloud","zone":"fr-par-1"},"gateway_networks":[],"upstream_dns_servers":[],"version":"0.2.15","can_upgrade_to":null,"zone":"fr-par-1"}'
    headers:
      Content-Length:
      - "801"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 08 Dec 2021 14:28:07 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - d274f128-c506-425c-a8e8-7aff1497dc11
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/vpc-gw/v1beta1/zones/fr-par-1/gateways/99c73bb1-21c2-4b2c-aeda-a5e6ba9f4d1b?cleanup_dhcp=false
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 08 Dec 2021 14:28:07 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - f67ebb41-1fe4-47e3-a843-d6711d5bb9bc
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/vpc-gw/v1beta1/zones/fr-par-1/ips/6217fc64-2492-4e41-82e6-b0564d950134
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 08 Dec 2021 14:28:07 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 86924d64-12fb-4be2-b4f7-0fd5ef0705c5
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/vpc-gw/v1beta1/zones/fr-par-1/ips/6217fc64-2492-4e41-82e6-b0564d950134
    method: GET
  response:
    body: '{"message":"resource is not found","resource":"ip","resource_id":"6217fc64-2492-4e41-82e6-b0564d950134","type":"not_found"}'
    headers:
      Content-Length:
      - "123"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 08 Dec 2021 14:28:07 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 599b0b01-464c-4925-a5c0-181e5600435c
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/vpc-gw/v1beta1/zones/fr-par-1/gateways/99c73bb1-21c2-4b2c-aeda-a5e6ba9f4d1b
    method: GET
  response:
    body: '{"message":"resource is not found","resource":"gateway","resource_id":"99c73bb1-21c2-4b2c-aeda-a5e6ba9f4d1b","type":"not_found"}'
    headers:
      Content-Length:
      - "128"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 08 Dec 2021 14:28:07 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 0cc5b62f-1229-41f0-8c61-47e897319686
    status: 404 Not Found
    code: 404
    duration: ""

---
version: 1
interactions:
- request:
    body: '{"name":"test_iot_hub_datasource","project_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","product_plan":"plan_shared","disable_events":null,"events_topic_prefix":"$SCW/events"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs
    method: POST
  response:
    body: '{"region":"fr-par","id":"6ade572a-9d5c-465c-9e5f-11ccd8ff81ca","organization_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","project_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","name":"test_iot_hub_datasource","status":"enabling","product_plan":"plan_shared","endpoint":"iot.fr-par.scw.cloud","created_at":"2022-05-05T13:22:44.577Z","updated_at":"2022-05-05T13:22:44.577Z","enabled":true,"device_count":0,"connected_device_count":0,"disable_events":false,"events_topic_prefix":"$SCW/events","enable_device_auto_provisioning":false,"has_custom_ca":false}'
    headers:
      Content-Length:
      - "548"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:45 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 5080da4b-cdf9-4681-bda4-484cddb7f279
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/6ade572a-9d5c-465c-9e5f-11ccd8ff81ca
    method: GET
  response:
    body: '{"region":"fr-par","id":"6ade572a-9d5c-465c-9e5f-11ccd8ff81ca","organization_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","project_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","name":"test_iot_hub_datasource","status":"ready","product_plan":"plan_shared","endpoint":"iot.fr-par.scw.cloud","created_at":"2022-05-05T13:22:44.577Z","updated_at":"2022-05-05T13:22:44.577Z","enabled":true,"device_count":0,"connected_device_count":0,"disable_events":false,"events_topic_prefix":"$SCW/events","enable_device_auto_provisioning":false,"has_custom_ca":false}'
    headers:
      Content-Length:
      - "545"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:46 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 3657210d-08bb-4594-a3b7-28e39da78cad
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/6ade572a-9d5c-465c-9e5f-11ccd8ff81ca
    method: GET
  response:
    body: '{"region":"fr-par","id":"6ade572a-9d5c-465c-9e5f-11ccd8ff81ca","organization_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","project_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","name":"test_iot_hub_datasource","status":"ready","product_plan":"plan_shared","endpoint":"iot.fr-par.scw.cloud","created_at":"2022-05-05T13:22:44.577Z","updated_at":"2022-05-05T13:22:44.577Z","enabled":true,"device_count":0,"connected_device_count":0,"disable_events":false,"events_topic_prefix":"$SCW/events","enable_device_auto_provisioning":false,"has_custom_ca":false}'
    headers:
      Content-Length:
      - "545"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:46 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 8cf9eeec-43d5-4955-9278-0aa0ff662084
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"name":"test_iot_device_datasource","hub_id":"6ade572a-9d5c-465c-9e5f-11ccd8ff81ca","allow_insecure":false,"allow_multiple_connections":false,"message_filters":null,"description":null}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/devices
    method: POST
  response:
    body: '{"device":{"id":"bbc1785c-8c56-4b57-94c4-b8ce651053ee","name":"test_iot_device_datasource","status":"enabled","hub_id":"6ade572a-9d5c-465c-9e5f-11ccd8ff81ca","created_at":"2022-05-05T13:22:46.672Z","updated_at":"2022-05-05T13:22:46.672Z","allow_insecure":false,"last_activity_at":"1970-01-01T00:00:00Z","is_connected":false,"message_filters":{"publish":{"policy":"reject","topics":[]},"subscribe":{"policy":"reject","topics":[]}},"allow_multiple_connections":false,"description":"","has_custom_certificate":false},"certificate":{"crt":"-----BEGIN
      CERTIFICATE-----\nMIIEZDCCA0ygAwIBAgIQHmYBPxkuyoS/30mkZ0nZAzANBgkqhkiG9w0BAQsFADCB\nzjELMAkGA1UEBhMCRlIxDzANBgNVBAgTBkZyYW5jZTEOMAwGA1UEBxMFUGFyaXMx\nEjAQBgNVBAkTCUxhIE1haXNvbjEJMAcGA1UEERMAMRgwFgYDVQQKEw9TY2FsZXdh\neS9PbmxpbmUxEDAOBgNVBAsTB0xhYi9Jb1QxITAfBgNVBAMTGFNjYWxld2F5IElv\nVCBDZXJ0aWZpY2F0ZTEwMC4GA1UEBRMnMTk3NjcyMTg2NTgyNDA2MDMzNTg5Mzc0\nMDc5MjA5OTk3ODY5NDI0MB4XDTIyMDUwNDEzMjI0N1oXDTMyMDUwNDEzMjI0N1ow\ngbQxCzAJBgNVBAYTAkZSMQwwCgYDVQQIEwNJREYxDjAMBgNVBAcTBVBhcmlzMTEw\nLwYDVQQKEyg1MDg0MjY1QTk4OENBNDQ5ODJDMzdFMkI0RTdFQkI2NDJBRjI4MkRC\nMSMwIQYDVQQDDBp0ZXN0X2lvdF9kZXZpY2VfZGF0YXNvdXJjZTEvMC0GA1UEBRMm\nNDA0MDY0Nzk0MzQ2OTU1NjI4NTU2MDk1MjIxODQxNjgwMDM4NDMwggEiMA0GCSqG\nSIb3DQEBAQUAA4IBDwAwggEKAoIBAQD8XkxO2OSWvp5UC+/2qHgQ0fU7i11UNRDl\nHijXi9md6kIKNipo+/lvarcgCRIq8tRGQTqaglqNdZ7A/gWQaqPzTQxR+j7v/7lT\nsnNPmwVsMLkxvSgYfD0CCsBJ+6OlcMq88BsgaA6Ofv/Zg3T1NO3Q4h6XVP3FSTLD\nLtRyKOxq74E0nIn0p0O87Bft3J+QSTf022MRlLtI+gnD3FFaf0Ecc6GU52gwkrmc\nuD433cj2mWgsaRMD8Y7ryuBMKV1LxMy6a1e2fRcCwPNf9BJJCQbNG8YAlRCm4MMG\nz3OUEUzLnPpQ8W0ufznj9puj5ghXvbCh/EvkODtq8hDkYakw++OLAgMBAAGjVjBU\nMA4GA1UdDwEB/wQEAwIFoDATBgNVHSUEDDAKBggrBgEFBQcDAjAMBgNVHRMBAf8E\nAjAAMB8GA1UdIwQYMBaAFFV95adarJRmtLp46zoBApFjx9EYMA0GCSqGSIb3DQEB\nCwUAA4IBAQAGzEG64dAOehohvRSfzKiv52wxzJ3DsVeZohu0G3f7nV0jDEEZfRJy\niIuMFR9J7Ns6owALBR20oJ90EyVq5jew5Q8MKUcXM2IN7jeshLJu3YSJ6ABVvfRk\n1t8OdE011NqHubyBF93tgk+RIcqKq7W1lYL9vcr+55qEhvArcFrTJh63LrIje4zz\nO7Mf2WxAmfGp+G6c0/XG8qLrHgS8MMcerA//jgMr4wv2pdcjGcJ0dVUikVTf264y\nin6SZwcBqHFBk3hp13vgEV7R+ChEw+CEyDhGLzMyT8o0fhukIog6klnBXbuFU4so\nIbxUix6kB3hdudagpBO6gy5vxBHs/7Mv\n-----END
      CERTIFICATE-----\n","key":"-----BEGIN RSA PRIVATE KEY-----\nMIIEowIBAAKCAQEA/F5MTtjklr6eVAvv9qh4ENH1O4tdVDUQ5R4o14vZnepCCjYq\naPv5b2q3IAkSKvLURkE6moJajXWewP4FkGqj800MUfo+7/+5U7JzT5sFbDC5Mb0o\nGHw9AgrASfujpXDKvPAbIGgOjn7/2YN09TTt0OIel1T9xUkywy7Ucijsau+BNJyJ\n9KdDvOwX7dyfkEk39NtjEZS7SPoJw9xRWn9BHHOhlOdoMJK5nLg+N93I9ploLGkT\nA/GO68rgTCldS8TMumtXtn0XAsDzX/QSSQkGzRvGAJUQpuDDBs9zlBFMy5z6UPFt\nLn854/abo+YIV72wofxL5Dg7avIQ5GGpMPvjiwIDAQABAoIBAQD4ccThonh3RrUL\nvKzBwNxigq/PrMV2Tr+RL325pP3ZjnLxJp3duKG44+/f48405dXATBrrXQTUWkSt\nbeYAZFt+/Azy707iangCQ51tcwmFlvnaU4OTh0twJTFkJAzYpA+SrTWnU4lxEunB\nMr8DXtX4W4MOLCef/w2wRPv0XwFPywCJkrc5RSOT4RwHwfUFZq8a56g9YltCuIAk\n2L1c9ue380j4Lr9UzVlCloUPFEn5Y/rmkHjv/zmrUGZ+Q9eR8FdGyy+5hdOrEN+i\nTrd8TUSjrYqju6xk4cSDtlzj+5tjU8tBt1FTXqrQwhGS0Xw0jkg5mkggpBWQlwVI\nNypI23jRAoGBAPyC16IR3EtBDsWqVSXhnOtNgMAaFZzVt3tDs2DfD6rCY6u5OzbN\nN5iu4ZmyYIlpgwY+1LvdQTnkLVEjYQwGd3G+Jq84KHNEQsFVe2MOaxJn3o5GJxdK\nRWQgYF2c8mpoDJzP0YtvZ5wER1IAxpKRNEOn3ee+o4m9PO5D86vhY6IlAoGBAP/a\n82oIV+4r1mbWedSlCEHSsjohkdQ08wNTX/cV/euqdq1mEM32b1ElpMaTTtn/k7P7\nU6JXNyNt1fmxwq8IXyaIjg3WoDMFWWsYKsu01zs37NfLrDrMQzbyEn0lEyBCqlxK\ny0Ix8FFqN0gYGZFSB6QZbmaUVOPAJeEWk1tnvofvAoGASzWthFhNhRybicRyGBZa\n5rru3kjmpxAA1nYTt4a44+OCTGOff3MgXBm6mEzI9CS5IeMU+d+szdForgIbpblH\nWlmIrCfN5IcwWuVbGuXwfkrxvu6mNgmpIWmDSl601XyoRQyhHSbRdWbQ11vjyUP2\njTAyqBPgIeZ7f3w917QKOQECgYBJDCMI997a8gshi0R3ULLd0CDwddsjwgZLwccZ\nTV8UpLODaCuOEjjP6zZzN2WA2fY6oZvMMqhcZiR8SKMzw+keoEgmbUuJpZJVAC5f\nwH7eumXVaqH+m4jpLA3ZSvd982qeNQB5IrbhF7k2zSKnmcrysAwUH29pItftvrtN\nkn4UYwKBgFfJ8h3LYNHfPNX388WNNXrk1F70OYY12wLIccRR5K7zgGo6Ogb0KzYI\ni8OJGT5SrM6Y19jsTdpx6tDSdrwvmcwxmH3tp0aXJZ3kj9MnEySU/r4HE+H0ldpT\nx3thXCp+HKR8l4Hk3y2kTFUAFMSxrAMyXK6CrZqURWFSydY+tXdZ\n-----END
      RSA PRIVATE KEY-----\n"}}'
    headers:
      Content-Length:
      - "3858"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:47 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 3e9ec634-7785-4030-b7a5-97c913feb732
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/devices/bbc1785c-8c56-4b57-94c4-b8ce651053ee
    method: GET
  response:
    body: '{"id":"bbc1785c-8c56-4b57-94c4-b8ce651053ee","name":"test_iot_device_datasource","status":"enabled","hub_id":"6ade572a-9d5c-465c-9e5f-11ccd8ff81ca","created_at":"2022-05-05T13:22:46.672Z","updated_at":"2022-05-05T13:22:46.672Z","allow_insecure":false,"last_activity_at":"1970-01-01T00:00:00Z","is_connected":false,"message_filters":{"publish":{"policy":"reject","topics":[]},"subscribe":{"policy":"reject","topics":[]}},"allow_multiple_connections":false,"description":"","has_custom_certificate":false}'
    headers:
      Content-Length:
      - "503"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:47 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - cfe4b1ef-f120-4cfb-ab73-4551d3a01689
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/devices/bbc1785c-8c56-4b57-94c4-b8ce651053ee/certificate
    method: GET
  response:
    body: '{"device":{"id":"bbc1785c-8c56-4b57-94c4-b8ce651053ee","name":"test_iot_device_datasource","status":"enabled","hub_id":"6ade572a-9d5c-465c-9e5f-11ccd8ff81ca","created_at":"2022-05-05T13:22:46.672Z","updated_at":"2022-05-05T13:22:46.672Z","allow_insecure":false,"last_activity_at":"1970-01-01T00:00:00Z","is_connected":false,"message_filters":{"publish":{"policy":"reject","topics":[]},"subscribe":{"policy":"reject","topics":[]}},"allow_multiple_connections":false,"description":"","has_custom_certificate":false},"certificate_pem":"-----BEGIN
      CERTIFICATE-----\nMIIEZDCCA0ygAwIBAgIQHmYBPxkuyoS/30mkZ0nZAzANBgkqhkiG9w0BAQsFADCB\nzjELMAkGA1UEBhMCRlIxDzANBgNVBAgTBkZyYW5jZTEOMAwGA1UEBxMFUGFyaXMx\nEjAQBgNVBAkTCUxhIE1haXNvbjEJMAcGA1UEERMAMRgwFgYDVQQKEw9TY2FsZXdh\neS9PbmxpbmUxEDAOBgNVBAsTB0xhYi9Jb1QxITAfBgNVBAMTGFNjYWxld2F5IElv\nVCBDZXJ0aWZpY2F0ZTEwMC4GA1UEBRMnMTk3NjcyMTg2NTgyNDA2MDMzNTg5Mzc0\nMDc5MjA5OTk3ODY5NDI0MB4XDTIyMDUwNDEzMjI0N1oXDTMyMDUwNDEzMjI0N1ow\ngbQxCzAJBgNVBAYTAkZSMQwwCgYDVQQIEwNJREYxDjAMBgNVBAcTBVBhcmlzMTEw\nLwYDVQQKEyg1MDg0MjY1QTk4OENBNDQ5ODJDMzdFMkI0RTdFQkI2NDJBRjI4MkRC\nMSMwIQYDVQQDDBp0ZXN0X2lvdF9kZXZpY2VfZGF0YXNvdXJjZTEvMC0GA1UEBRMm\nNDA0MDY0Nzk0MzQ2OTU1NjI4NTU2MDk1MjIxODQxNjgwMDM4NDMwggEiMA0GCSqG\nSIb3DQEBAQUAA4IBDwAwggEKAoIBAQD8XkxO2OSWvp5UC+/2qHgQ0fU7i11UNRDl\nHijXi9md6kIKNipo+/lvarcgCRIq8tRGQTqaglqNdZ7A/gWQaqPzTQxR+j7v/7lT\nsnNPmwVsMLkxvSgYfD0CCsBJ+6OlcMq88BsgaA6Ofv/Zg3T1NO3Q4h6XVP3FSTLD\nLtRyKOxq74E0nIn0p0O87Bft3J+QSTf022MRlLtI+gnD3FFaf0Ecc6GU52gwkrmc\nuD433cj2mWgsaRMD8Y7ryuBMKV1LxMy6a1e2fRcCwPNf9BJJCQbNG8YAlRCm4MMG\nz3OUEUzLnPpQ8W0ufznj9puj5ghXvbCh/EvkODtq8hDkYakw++OLAgMBAAGjVjBU\nMA4GA1UdDwEB/wQEAwIFoDATBgNVHSUEDDAKBggrBgEFBQcDAjAMBgNVHRMBAf8E\nAjAAMB8GA1UdIwQYMBaAFFV95adarJRmtLp46zoBApFjx9EYMA0GCSqGSIb3DQEB\nCwUAA4IBAQAGzEG64dAOehohvRSfzKiv52wxzJ3DsVeZohu0G3f7nV0jDEEZfRJy\niIuMFR9J7Ns6owALBR20oJ90EyVq5jew5Q8MKUcXM2IN7jeshLJu3YSJ6ABVvfRk\n1t8OdE011NqHubyBF93tgk+RIcqKq7W1lYL9vcr+55qEhvArcFrTJh63LrIje4zz\nO7Mf2WxAmfGp+G6c0/XG8qLrHgS8MMcerA//jgMr4wv2pdcjGcJ0dVUikVTf264y\nin6SZwcBqHFBk3hp13vgEV7R+ChEw+CEyDhGLzMyT8o0fhukIog6klnBXbuFU4so\nIbxUix6kB3hdudagpBO6gy5vxBHs/7Mv\n-----END
      CERTIFICATE-----\n"}'
    headers:
      Content-Length:
      - "2143"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:47 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - dd7fce60-cd0e-4408-bd57-9678fe5c5331
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/devices/bbc1785c-8c56-4b57-94c4-b8ce651053ee
    method: GET
  response:
    body: '{"id":"bbc1785c-8c56-4b57-94c4-b8ce651053ee","name":"test_iot_device_datasource","status":"enabled","hub_id":"6ade572a-9d5c-465c-9e5f-11ccd8ff81ca","created_at":"2022-05-05T13:22:46.672Z","updated_at":"2022-05-05T13:22:46.672Z","allow_insecure":false,"last_activity_at":"1970-01-01T00:00:00Z","is_connected":false,"message_filters":{"publish":{"policy":"reject","topics":[]},"subscribe":{"policy":"reject","topics":[]}},"allow_multiple_connections":false,"description":"","has_custom_certificate":false}'
    headers:
      Content-Length:
      - "503"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:48 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - c6210a66-c5db-44e7-9fac-ae83f7dd95cf
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/devices?hub_id=6ade572a-9d5c-465c-9e5f-11ccd8ff81ca&name=test_iot_device_datasource&order_by=name_asc&status=unknown
    method: GET
  response:
    body: '{"total_count":1,"devices":[{"id":"bbc1785c-8c56-4b57-94c4-b8ce651053ee","name":"test_iot_device_datasource","status":"enabled","hub_id":"6ade572a-9d5c-465c-9e5f-11ccd8ff81ca","created_at":"2022-05-05T13:22:46.672Z","updated_at":"2022-05-05T13:22:46.672Z","allow_insecure":false,"last_activity_at":"1970-01-01T00:00:00Z","is_connected":false,"message_filters":{"publish":{"policy":"reject","topics":[]},"subscribe":{"policy":"reject","topics":[]}},"allow_multiple_connections":false,"description":"","has_custom_certificate":false}]}'
    headers:
      Content-Length:
      - "533"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:48 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 3e794711-78df-4461-80ae-0155bf796f00
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/devices?name=test_iot_device_datasource&order_by=name_asc&status=unknown
    method: GET
  response:
    body: '{"total_count":1,"devices":[{"id":"bbc1785c-8c56-4b57-94c4-b8ce651053ee","name":"test_iot_device_datasource","status":"enabled","hub_id":"6ade572a-9d5c-465c-9e5f-11ccd8ff81ca","created_at":"2022-05-05T13:22:46.672Z","updated_at":"2022-05-05T13:22:46.672Z","allow_insecure":false,"last_activity_at":"1970-01-01T00:00:00Z","is_connected":false,"message_filters":{"publish":{"policy":"reject","topics":[]},"subscribe":{"policy":"reject","topics":[]}},"allow_multiple_connections":false,"description":"","has_custom_certificate":false}]}'
    headers:
      Content-Length:
      - "533"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:48 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - a2e7853e-4d6f-4bc2-a83d-ca9b37f7e406
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/devices/bbc1785c-8c56-4b57-94c4-b8ce651053ee
    method: GET
  response:
    body: '{"id":"bbc1785c-8c56-4b57-94c4-b8ce651053ee","name":"test_iot_device_datasource","status":"enabled","hub_id":"6ade572a-9d5c-465c-9e5f-11ccd8ff81ca","created_at":"2022-05-05T13:22:46.672Z","updated_at":"2022-05-05T13:22:46.672Z","allow_insecure":false,"last_activity_at":"1970-01-01T00:00:00Z","is_connected":false,"message_filters":{"publish":{"policy":"reject","topics":[]},"subscribe":{"policy":"reject","topics":[]}},"allow_multiple_connections":false,"description":"","has_custom_certificate":false}'
    headers:
      Content-Length:
      - "503"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:48 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - fdb0f74d-b966-4c7a-b935-baba482d1afb
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/devices/bbc1785c-8c56-4b57-94c4-b8ce651053ee
    method: GET
  response:
    body: '{"id":"bbc1785c-8c56-4b57-94c4-b8ce651053ee","name":"test_iot_device_datasource","status":"enabled","hub_id":"6ade572a-9d5c-465c-9e5f-11ccd8ff81ca","created_at":"2022-05-05T13:22:46.672Z","updated_at":"2022-05-05T13:22:46.672Z","allow_insecure":false,"last_activity_at":"1970-01-01T00:00:00Z","is_connected":false,"message_filters":{"publish":{"policy":"reject","topics":[]},"subscribe":{"policy":"reject","topics":[]}},"allow_multiple_connections":false,"description":"","has_custom_certificate":false}'
    headers:
      Content-Length:
      - "503"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:48 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 85ffd0ab-639f-4875-a1ba-9120c4f62f21
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/devices/bbc1785c-8c56-4b57-94c4-b8ce651053ee
    method: GET
  response:
    body: '{"id":"bbc1785c-8c56-4b57-94c4-b8ce651053ee","name":"test_iot_device_datasource","status":"enabled","hub_id":"6ade572a-9d5c-465c-9e5f-11ccd8ff81ca","created_at":"2022-05-05T13:22:46.672Z","updated_at":"2022-05-05T13:22:46.672Z","allow_insecure":false,"last_activity_at":"1970-01-01T00:00:00Z","is_connected":false,"message_filters":{"publish":{"policy":"reject","topics":[]},"subscribe":{"policy":"reject","topics":[]}},"allow_multiple_connections":false,"description":"","has_custom_certificate":false}'
    headers:
      Content-Length:
      - "503"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:48 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 9412a2b0-a0f7-4a78-a048-83ea8201b4ad
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/devices?name=test_iot_device_datasource&order_by=name_asc&status=unknown
    method: GET
  response:
    body: '{"total_count":1,"devices":[{"id":"bbc1785c-8c56-4b57-94c4-b8ce651053ee","name":"test_iot_device_datasource","status":"enabled","hub_id":"6ade572a-9d5c-465c-9e5f-11ccd8ff81ca","created_at":"2022-05-05T13:22:46.672Z","updated_at":"2022-05-05T13:22:46.672Z","allow_insecure":false,"last_activity_at":"1970-01-01T00:00:00Z","is_connected":false,"message_filters":{"publish":{"policy":"reject","topics":[]},"subscribe":{"policy":"reject","topics":[]}},"allow_multiple_connections":false,"description":"","has_custom_certificate":false}]}'
    headers:
      Content-Length:
      - "533"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:49 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - baa3fa87-cc39-4f42-9e96-905c7377aaf7
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/devices?hub_id=6ade572a-9d5c-465c-9e5f-11ccd8ff81ca&name=test_iot_device_datasource&order_by=name_asc&status=unknown
    method: GET
  response:
    body: '{"total_count":1,"devices":[{"id":"bbc1785c-8c56-4b57-94c4-b8ce651053ee","name":"test_iot_device_datasource","status":"enabled","hub_id":"6ade572a-9d5c-465c-9e5f-11ccd8ff81ca","created_at":"2022-05-05T13:22:46.672Z","updated_at":"2022-05-05T13:22:46.672Z","allow_insecure":false,"last_activity_at":"1970-01-01T00:00:00Z","is_connected":false,"message_filters":{"publish":{"policy":"reject","topics":[]},"subscribe":{"policy":"reject","topics":[]}},"allow_multiple_connections":false,"description":"","has_custom_certificate":false}]}'
    headers:
      Content-Length:
      - "533"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:49 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - ae042678-20c0-459d-bb2f-1bae4bb6127b
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/devices/bbc1785c-8c56-4b57-94c4-b8ce651053ee
    method: GET
  response:
    body: '{"id":"bbc1785c-8c56-4b57-94c4-b8ce651053ee","name":"test_iot_device_datasource","status":"enabled","hub_id":"6ade572a-9d5c-465c-9e5f-11ccd8ff81ca","created_at":"2022-05-05T13:22:46.672Z","updated_at":"2022-05-05T13:22:46.672Z","allow_insecure":false,"last_activity_at":"1970-01-01T00:00:00Z","is_connected":false,"message_filters":{"publish":{"policy":"reject","topics":[]},"subscribe":{"policy":"reject","topics":[]}},"allow_multiple_connections":false,"description":"","has_custom_certificate":false}'
    headers:
      Content-Length:
      - "503"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:49 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 2bdbbac1-2439-468f-b71e-11a1f3037d67
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/devices/bbc1785c-8c56-4b57-94c4-b8ce651053ee
    method: GET
  response:
    body: '{"id":"bbc1785c-8c56-4b57-94c4-b8ce651053ee","name":"test_iot_device_datasource","status":"enabled","hub_id":"6ade572a-9d5c-465c-9e5f-11ccd8ff81ca","created_at":"2022-05-05T13:22:46.672Z","updated_at":"2022-05-05T13:22:46.672Z","allow_insecure":false,"last_activity_at":"1970-01-01T00:00:00Z","is_connected":false,"message_filters":{"publish":{"policy":"reject","topics":[]},"subscribe":{"policy":"reject","topics":[]}},"allow_multiple_connections":false,"description":"","has_custom_certificate":false}'
    headers:
      Content-Length:
      - "503"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:49 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 76aec547-bda4-45a3-ad9f-17b5933deb2f
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/devices/bbc1785c-8c56-4b57-94c4-b8ce651053ee
    method: GET
  response:
    body: '{"id":"bbc1785c-8c56-4b57-94c4-b8ce651053ee","name":"test_iot_device_datasource","status":"enabled","hub_id":"6ade572a-9d5c-465c-9e5f-11ccd8ff81ca","created_at":"2022-05-05T13:22:46.672Z","updated_at":"2022-05-05T13:22:46.672Z","allow_insecure":false,"last_activity_at":"1970-01-01T00:00:00Z","is_connected":false,"message_filters":{"publish":{"policy":"reject","topics":[]},"subscribe":{"policy":"reject","topics":[]}},"allow_multiple_connections":false,"description":"","has_custom_certificate":false}'
    headers:
      Content-Length:
      - "503"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:49 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 2531d39c-1677-4df4-b3ac-0a3f0354d320
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/6ade572a-9d5c-465c-9e5f-11ccd8ff81ca
    method: GET
  response:
    body: '{"region":"fr-par","id":"6ade572a-9d5c-465c-9e5f-11ccd8ff81ca","organization_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","project_id":"ee7bd9e1-9cbd-4724-b2f4-19e50f3cf38b","name":"test_iot_hub_datasource","status":"ready","product_plan":"plan_shared","endpoint":"iot.fr-par.scw.cloud","created_at":"2022-05-05T13:22:44.577Z","updated_at":"2022-05-05T13:22:44.577Z","enabled":true,"device_count":1,"connected_device_count":0,"disable_events":false,"events_topic_prefix":"$SCW/events","enable_device_auto_provisioning":false,"has_custom_ca":false}'
    headers:
      Content-Length:
      - "545"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:50 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 9c86cf0c-b8fc-4136-9597-a89f510ffb1e
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/devices/bbc1785c-8c56-4b57-94c4-b8ce651053ee
    method: GET
  response:
    body: '{"id":"bbc1785c-8c56-4b57-94c4-b8ce651053ee","name":"test_iot_device_datasource","status":"enabled","hub_id":"6ade572a-9d5c-465c-9e5f-11ccd8ff81ca","created_at":"2022-05-05T13:22:46.672Z","updated_at":"2022-05-05T13:22:46.672Z","allow_insecure":false,"last_activity_at":"1970-01-01T00:00:00Z","is_connected":false,"message_filters":{"publish":{"policy":"reject","topics":[]},"subscribe":{"policy":"reject","topics":[]}},"allow_multiple_connections":false,"description":"","has_custom_certificate":false}'
    headers:
      Content-Length:
      - "503"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:50 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 3c395399-c914-4fdf-ab41-c0299b185bf8
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/devices/bbc1785c-8c56-4b57-94c4-b8ce651053ee/certificate
    method: GET
  response:
    body: '{"device":{"id":"bbc1785c-8c56-4b57-94c4-b8ce651053ee","name":"test_iot_device_datasource","status":"enabled","hub_id":"6ade572a-9d5c-465c-9e5f-11ccd8ff81ca","created_at":"2022-05-05T13:22:46.672Z","updated_at":"2022-05-05T13:22:46.672Z","allow_insecure":false,"last_activity_at":"1970-01-01T00:00:00Z","is_connected":false,"message_filters":{"publish":{"policy":"reject","topics":[]},"subscribe":{"policy":"reject","topics":[]}},"allow_multiple_connections":false,"description":"","has_custom_certificate":false},"certificate_pem":"-----BEGIN
      CERTIFICATE-----\nMIIEZDCCA0ygAwIBAgIQHmYBPxkuyoS/30mkZ0nZAzANBgkqhkiG9w0BAQsFADCB\nzjELMAkGA1UEBhMCRlIxDzANBgNVBAgTBkZyYW5jZTEOMAwGA1UEBxMFUGFyaXMx\nEjAQBgNVBAkTCUxhIE1haXNvbjEJMAcGA1UEERMAMRgwFgYDVQQKEw9TY2FsZXdh\neS9PbmxpbmUxEDAOBgNVBAsTB0xhYi9Jb1QxITAfBgNVBAMTGFNjYWxld2F5IElv\nVCBDZXJ0aWZpY2F0ZTEwMC4GA1UEBRMnMTk3NjcyMTg2NTgyNDA2MDMzNTg5Mzc0\nMDc5MjA5OTk3ODY5NDI0MB4XDTIyMDUwNDEzMjI0N1oXDTMyMDUwNDEzMjI0N1ow\ngbQxCzAJBgNVBAYTAkZSMQwwCgYDVQQIEwNJREYxDjAMBgNVBAcTBVBhcmlzMTEw\nLwYDVQQKEyg1MDg0MjY1QTk4OENBNDQ5ODJDMzdFMkI0RTdFQkI2NDJBRjI4MkRC\nMSMwIQYDVQQDDBp0ZXN0X2lvdF9kZXZpY2VfZGF0YXNvdXJjZTEvMC0GA1UEBRMm\nNDA0MDY0Nzk0MzQ2OTU1NjI4NTU2MDk1MjIxODQxNjgwMDM4NDMwggEiMA0GCSqG\nSIb3DQEBAQUAA4IBDwAwggEKAoIBAQD8XkxO2OSWvp5UC+/2qHgQ0fU7i11UNRDl\nHijXi9md6kIKNipo+/lvarcgCRIq8tRGQTqaglqNdZ7A/gWQaqPzTQxR+j7v/7lT\nsnNPmwVsMLkxvSgYfD0CCsBJ+6OlcMq88BsgaA6Ofv/Zg3T1NO3Q4h6XVP3FSTLD\nLtRyKOxq74E0nIn0p0O87Bft3J+QSTf022MRlLtI+gnD3FFaf0Ecc6GU52gwkrmc\nuD433cj2mWgsaRMD8Y7ryuBMKV1LxMy6a1e2fRcCwPNf9BJJCQbNG8YAlRCm4MMG\nz3OUEUzLnPpQ8W0ufznj9puj5ghXvbCh/EvkODtq8hDkYakw++OLAgMBAAGjVjBU\nMA4GA1UdDwEB/wQEAwIFoDATBgNVHSUEDDAKBggrBgEFBQcDAjAMBgNVHRMBAf8E\nAjAAMB8GA1UdIwQYMBaAFFV95adarJRmtLp46zoBApFjx9EYMA0GCSqGSIb3DQEB\nCwUAA4IBAQAGzEG64dAOehohvRSfzKiv52wxzJ3DsVeZohu0G3f7nV0jDEEZfRJy\niIuMFR9J7Ns6owALBR20oJ90EyVq5jew5Q8MKUcXM2IN7jeshLJu3YSJ6ABVvfRk\n1t8OdE011NqHubyBF93tgk+RIcqKq7W1lYL9vcr+55qEhvArcFrTJh63LrIje4zz\nO7Mf2WxAmfGp+G6c0/XG8qLrHgS8MMcerA//jgMr4wv2pdcjGcJ0dVUikVTf264y\nin6SZwcBqHFBk3hp13vgEV7R+ChEw+CEyDhGLzMyT8o0fhukIog6klnBXbuFU4so\nIbxUix6kB3hdudagpBO6gy5vxBHs/7Mv\n-----END
      CERTIFICATE-----\n"}'
    headers:
      Content-Length:
      - "2143"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:50 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 7c88fe32-d48f-4a6e-aec0-fea713a401a8
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/devices?hub_id=6ade572a-9d5c-465c-9e5f-11ccd8ff81ca&name=test_iot_device_datasource&order_by=name_asc&status=unknown
    method: GET
  response:
    body: '{"total_count":1,"devices":[{"id":"bbc1785c-8c56-4b57-94c4-b8ce651053ee","name":"test_iot_device_datasource","status":"enabled","hub_id":"6ade572a-9d5c-465c-9e5f-11ccd8ff81ca","created_at":"2022-05-05T13:22:46.672Z","updated_at":"2022-05-05T13:22:46.672Z","allow_insecure":false,"last_activity_at":"1970-01-01T00:00:00Z","is_connected":false,"message_filters":{"publish":{"policy":"reject","topics":[]},"subscribe":{"policy":"reject","topics":[]}},"allow_multiple_connections":false,"description":"","has_custom_certificate":false}]}'
    headers:
      Content-Length:
      - "533"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:51 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - c02dbe10-3487-4218-b3cc-533aaacc4f7c
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/devices?name=test_iot_device_datasource&order_by=name_asc&status=unknown
    method: GET
  response:
    body: '{"total_count":1,"devices":[{"id":"bbc1785c-8c56-4b57-94c4-b8ce651053ee","name":"test_iot_device_datasource","status":"enabled","hub_id":"6ade572a-9d5c-465c-9e5f-11ccd8ff81ca","created_at":"2022-05-05T13:22:46.672Z","updated_at":"2022-05-05T13:22:46.672Z","allow_insecure":false,"last_activity_at":"1970-01-01T00:00:00Z","is_connected":false,"message_filters":{"publish":{"policy":"reject","topics":[]},"subscribe":{"policy":"reject","topics":[]}},"allow_multiple_connections":false,"description":"","has_custom_certificate":false}]}'
    headers:
      Content-Length:
      - "533"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:51 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 5538fe5b-433f-4bbd-bef8-1e112265767f
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/devices/bbc1785c-8c56-4b57-94c4-b8ce651053ee
    method: GET
  response:
    body: '{"id":"bbc1785c-8c56-4b57-94c4-b8ce651053ee","name":"test_iot_device_datasource","status":"enabled","hub_id":"6ade572a-9d5c-465c-9e5f-11ccd8ff81ca","created_at":"2022-05-05T13:22:46.672Z","updated_at":"2022-05-05T13:22:46.672Z","allow_insecure":false,"last_activity_at":"1970-01-01T00:00:00Z","is_connected":false,"message_filters":{"publish":{"policy":"reject","topics":[]},"subscribe":{"policy":"reject","topics":[]}},"allow_multiple_connections":false,"description":"","has_custom_certificate":false}'
    headers:
      Content-Length:
      - "503"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:51 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - c75408ad-7564-4f01-8809-15c73d269096
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/devices/bbc1785c-8c56-4b57-94c4-b8ce651053ee
    method: GET
  response:
    body: '{"id":"bbc1785c-8c56-4b57-94c4-b8ce651053ee","name":"test_iot_device_datasource","status":"enabled","hub_id":"6ade572a-9d5c-465c-9e5f-11ccd8ff81ca","created_at":"2022-05-05T13:22:46.672Z","updated_at":"2022-05-05T13:22:46.672Z","allow_insecure":false,"last_activity_at":"1970-01-01T00:00:00Z","is_connected":false,"message_filters":{"publish":{"policy":"reject","topics":[]},"subscribe":{"policy":"reject","topics":[]}},"allow_multiple_connections":false,"description":"","has_custom_certificate":false}'
    headers:
      Content-Length:
      - "503"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:51 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 3395c611-c217-4b14-9b60-4708e3053ec4
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/devices/bbc1785c-8c56-4b57-94c4-b8ce651053ee
    method: GET
  response:
    body: '{"id":"bbc1785c-8c56-4b57-94c4-b8ce651053ee","name":"test_iot_device_datasource","status":"enabled","hub_id":"6ade572a-9d5c-465c-9e5f-11ccd8ff81ca","created_at":"2022-05-05T13:22:46.672Z","updated_at":"2022-05-05T13:22:46.672Z","allow_insecure":false,"last_activity_at":"1970-01-01T00:00:00Z","is_connected":false,"message_filters":{"publish":{"policy":"reject","topics":[]},"subscribe":{"policy":"reject","topics":[]}},"allow_multiple_connections":false,"description":"","has_custom_certificate":false}'
    headers:
      Content-Length:
      - "503"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:51 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - c82aa3dd-8d96-4d38-b202-b03f2b69cd4e
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/devices?name=test_iot_device_datasource&order_by=name_asc&status=unknown
    method: GET
  response:
    body: '{"total_count":1,"devices":[{"id":"bbc1785c-8c56-4b57-94c4-b8ce651053ee","name":"test_iot_device_datasource","status":"enabled","hub_id":"6ade572a-9d5c-465c-9e5f-11ccd8ff81ca","created_at":"2022-05-05T13:22:46.672Z","updated_at":"2022-05-05T13:22:46.672Z","allow_insecure":false,"last_activity_at":"1970-01-01T00:00:00Z","is_connected":false,"message_filters":{"publish":{"policy":"reject","topics":[]},"subscribe":{"policy":"reject","topics":[]}},"allow_multiple_connections":false,"description":"","has_custom_certificate":false}]}'
    headers:
      Content-Length:
      - "533"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:51 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 0fb23991-d83e-4e68-9eca-d7707b8235c9
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/devices?hub_id=6ade572a-9d5c-465c-9e5f-11ccd8ff81ca&name=test_iot_device_datasource&order_by=name_asc&status=unknown
    method: GET
  response:
    body: '{"total_count":1,"devices":[{"id":"bbc1785c-8c56-4b57-94c4-b8ce651053ee","name":"test_iot_device_datasource","status":"enabled","hub_id":"6ade572a-9d5c-465c-9e5f-11ccd8ff81ca","created_at":"2022-05-05T13:22:46.672Z","updated_at":"2022-05-05T13:22:46.672Z","allow_insecure":false,"last_activity_at":"1970-01-01T00:00:00Z","is_connected":false,"message_filters":{"publish":{"policy":"reject","topics":[]},"subscribe":{"policy":"reject","topics":[]}},"allow_multiple_connections":false,"description":"","has_custom_certificate":false}]}'
    headers:
      Content-Length:
      - "533"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:52 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 8d6cdd2d-9a16-4098-9241-c82e52538a2f
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/devices/bbc1785c-8c56-4b57-94c4-b8ce651053ee
    method: GET
  response:
    body: '{"id":"bbc1785c-8c56-4b57-94c4-b8ce651053ee","name":"test_iot_device_datasource","status":"enabled","hub_id":"6ade572a-9d5c-465c-9e5f-11ccd8ff81ca","created_at":"2022-05-05T13:22:46.672Z","updated_at":"2022-05-05T13:22:46.672Z","allow_insecure":false,"last_activity_at":"1970-01-01T00:00:00Z","is_connected":false,"message_filters":{"publish":{"policy":"reject","topics":[]},"subscribe":{"policy":"reject","topics":[]}},"allow_multiple_connections":false,"description":"","has_custom_certificate":false}'
    headers:
      Content-Length:
      - "503"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:51 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 00911bd7-d759-4f8b-998d-379b29b844d7
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/devices/bbc1785c-8c56-4b57-94c4-b8ce651053ee
    method: GET
  response:
    body: '{"id":"bbc1785c-8c56-4b57-94c4-b8ce651053ee","name":"test_iot_device_datasource","status":"enabled","hub_id":"6ade572a-9d5c-465c-9e5f-11ccd8ff81ca","created_at":"2022-05-05T13:22:46.672Z","updated_at":"2022-05-05T13:22:46.672Z","allow_insecure":false,"last_activity_at":"1970-01-01T00:00:00Z","is_connected":false,"message_filters":{"publish":{"policy":"reject","topics":[]},"subscribe":{"policy":"reject","topics":[]}},"allow_multiple_connections":false,"description":"","has_custom_certificate":false}'
    headers:
      Content-Length:
      - "503"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:52 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - fbe52e58-823d-4e7c-9328-9d6f70d9a04e
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/devices/bbc1785c-8c56-4b57-94c4-b8ce651053ee
    method: GET
  response:
    body: '{"id":"bbc1785c-8c56-4b57-94c4-b8ce651053ee","name":"test_iot_device_datasource","status":"enabled","hub_id":"6ade572a-9d5c-465c-9e5f-11ccd8ff81ca","created_at":"2022-05-05T13:22:46.672Z","updated_at":"2022-05-05T13:22:46.672Z","allow_insecure":false,"last_activity_at":"1970-01-01T00:00:00Z","is_connected":false,"message_filters":{"publish":{"policy":"reject","topics":[]},"subscribe":{"policy":"reject","topics":[]}},"allow_multiple_connections":false,"description":"","has_custom_certificate":false}'
    headers:
      Content-Length:
      - "503"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:52 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - a953f7e0-0d8b-40fd-be53-6c1032e05382
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/devices/bbc1785c-8c56-4b57-94c4-b8ce651053ee
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:53 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 11a10ad0-72bc-4b43-9e82-e901d7b19357
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/6ade572a-9d5c-465c-9e5f-11ccd8ff81ca
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:53 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 7509e19e-f845-4c2f-a8ac-59610e5c17b2
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/6ade572a-9d5c-465c-9e5f-11ccd8ff81ca
    method: GET
  response:
    body: '{"message":"resource is not found","resource":"hub","resource_id":"6ade572a-9d5c-465c-9e5f-11ccd8ff81ca","type":"not_found"}'
    headers:
      Content-Length:
      - "124"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:53 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 1dbed13d-6936-4f9d-8cb6-fe9d4421e49d
    status: 404 Not Found
    code: 404
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18; linux; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iot/v1/regions/fr-par/hubs/6ade572a-9d5c-465c-9e5f-11ccd8ff81ca
    method: GET
  response:
    body: '{"message":"resource is not found","resource":"hub","resource_id":"6ade572a-9d5c-465c-9e5f-11ccd8ff81ca","type":"not_found"}'
    headers:
      Content-Length:
      - "124"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Thu, 05 May 2022 13:22:53 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - ce84ae4f-98f4-4048-98d3-53518f2323ff
    status: 404 Not Found
    code: 404
    duration: ""

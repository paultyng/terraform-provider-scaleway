---
version: 1
interactions:
- request:
    body: '{"name":"tf-env-test","environment_variables":{"test":"test"},"project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","description":null,"secret_environment_variables":null}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.8; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces
    method: POST
  response:
    body: '{"id":"90c2b969-a666-48e7-81ca-23cbf9daad60","name":"tf-env-test","environment_variables":{"test":"test"},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"pending","registry_namespace_id":"","error_message":null,"registry_endpoint":"","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "374"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 08 Mar 2022 19:15:41 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - fbe1dea6-7ebc-4687-8302-d3ae388f4e06
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.8; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/90c2b969-a666-48e7-81ca-23cbf9daad60
    method: GET
  response:
    body: '{"message":"error while authenticating, please retry later"}'
    headers:
      Content-Length:
      - "60"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 08 Mar 2022 19:15:56 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 248b27e8-a26e-4392-a5ec-f8121aee25f7
    status: 503 Service Unavailable
    code: 503
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.8; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/90c2b969-a666-48e7-81ca-23cbf9daad60
    method: GET
  response:
    body: '{"id":"90c2b969-a666-48e7-81ca-23cbf9daad60","name":"tf-env-test","environment_variables":{"test":"test"},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"ready","registry_namespace_id":"18d75abb-6a3e-453a-80de-c4766f369616","error_message":null,"registry_endpoint":"rg.fr-par.scw.cloud/funcscwtfenvtestptls4jg2","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "452"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 08 Mar 2022 19:15:58 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 170c846e-30a0-4c29-aeac-4cd89730cfc0
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.8; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/90c2b969-a666-48e7-81ca-23cbf9daad60
    method: GET
  response:
    body: '{"id":"90c2b969-a666-48e7-81ca-23cbf9daad60","name":"tf-env-test","environment_variables":{"test":"test"},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"ready","registry_namespace_id":"18d75abb-6a3e-453a-80de-c4766f369616","error_message":null,"registry_endpoint":"rg.fr-par.scw.cloud/funcscwtfenvtestptls4jg2","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "452"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 08 Mar 2022 19:15:58 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 39ee4624-2d27-4522-af03-52c6716f8981
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.8; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/90c2b969-a666-48e7-81ca-23cbf9daad60
    method: GET
  response:
    body: '{"id":"90c2b969-a666-48e7-81ca-23cbf9daad60","name":"tf-env-test","environment_variables":{"test":"test"},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"ready","registry_namespace_id":"18d75abb-6a3e-453a-80de-c4766f369616","error_message":null,"registry_endpoint":"rg.fr-par.scw.cloud/funcscwtfenvtestptls4jg2","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "452"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 08 Mar 2022 19:15:58 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 05a32abd-d1e9-42b3-8a02-2097a4a05066
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.8; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/90c2b969-a666-48e7-81ca-23cbf9daad60
    method: GET
  response:
    body: '{"id":"90c2b969-a666-48e7-81ca-23cbf9daad60","name":"tf-env-test","environment_variables":{"test":"test"},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"ready","registry_namespace_id":"18d75abb-6a3e-453a-80de-c4766f369616","error_message":null,"registry_endpoint":"rg.fr-par.scw.cloud/funcscwtfenvtestptls4jg2","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "452"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 08 Mar 2022 19:15:59 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - d37e2431-7bc3-4efa-b529-ad5f6495a5fa
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.8; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/90c2b969-a666-48e7-81ca-23cbf9daad60
    method: GET
  response:
    body: '{"id":"90c2b969-a666-48e7-81ca-23cbf9daad60","name":"tf-env-test","environment_variables":{"test":"test"},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"ready","registry_namespace_id":"18d75abb-6a3e-453a-80de-c4766f369616","error_message":null,"registry_endpoint":"rg.fr-par.scw.cloud/funcscwtfenvtestptls4jg2","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "452"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 08 Mar 2022 19:15:59 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - a24c9730-e287-4585-ae0a-bbbb1b9a3e92
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"environment_variables":{"foo":"bar"},"description":null,"secret_environment_variables":null}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.8; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/90c2b969-a666-48e7-81ca-23cbf9daad60
    method: PATCH
  response:
    body: '{"id":"90c2b969-a666-48e7-81ca-23cbf9daad60","name":"tf-env-test","environment_variables":{"foo":"bar"},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"ready","registry_namespace_id":"18d75abb-6a3e-453a-80de-c4766f369616","error_message":null,"registry_endpoint":"rg.fr-par.scw.cloud/funcscwtfenvtestptls4jg2","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "450"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 08 Mar 2022 19:15:59 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - db4e3a5a-22b3-4b67-98bf-675b1a910ac7
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.8; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/90c2b969-a666-48e7-81ca-23cbf9daad60
    method: GET
  response:
    body: '{"id":"90c2b969-a666-48e7-81ca-23cbf9daad60","name":"tf-env-test","environment_variables":{"foo":"bar"},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"ready","registry_namespace_id":"18d75abb-6a3e-453a-80de-c4766f369616","error_message":null,"registry_endpoint":"rg.fr-par.scw.cloud/funcscwtfenvtestptls4jg2","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "450"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 08 Mar 2022 19:16:00 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - bb391c06-a688-4539-89a6-4f468cc94902
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.8; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/90c2b969-a666-48e7-81ca-23cbf9daad60
    method: GET
  response:
    body: '{"id":"90c2b969-a666-48e7-81ca-23cbf9daad60","name":"tf-env-test","environment_variables":{"foo":"bar"},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"ready","registry_namespace_id":"18d75abb-6a3e-453a-80de-c4766f369616","error_message":null,"registry_endpoint":"rg.fr-par.scw.cloud/funcscwtfenvtestptls4jg2","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "450"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 08 Mar 2022 19:16:00 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - f63b2f99-d83a-4ab9-a79e-8f8294aa55a0
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.8; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/90c2b969-a666-48e7-81ca-23cbf9daad60
    method: GET
  response:
    body: '{"id":"90c2b969-a666-48e7-81ca-23cbf9daad60","name":"tf-env-test","environment_variables":{"foo":"bar"},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"ready","registry_namespace_id":"18d75abb-6a3e-453a-80de-c4766f369616","error_message":null,"registry_endpoint":"rg.fr-par.scw.cloud/funcscwtfenvtestptls4jg2","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "450"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 08 Mar 2022 19:16:00 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 20ac14d1-e016-4ca6-8436-119e63237ad2
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.8; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/90c2b969-a666-48e7-81ca-23cbf9daad60
    method: GET
  response:
    body: '{"id":"90c2b969-a666-48e7-81ca-23cbf9daad60","name":"tf-env-test","environment_variables":{"foo":"bar"},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"ready","registry_namespace_id":"18d75abb-6a3e-453a-80de-c4766f369616","error_message":null,"registry_endpoint":"rg.fr-par.scw.cloud/funcscwtfenvtestptls4jg2","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "450"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 08 Mar 2022 19:16:00 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 4b1ad886-1df0-4ac6-be29-85ce52dd8c8c
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.8; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/90c2b969-a666-48e7-81ca-23cbf9daad60
    method: DELETE
  response:
    body: '{"id":"90c2b969-a666-48e7-81ca-23cbf9daad60","name":"tf-env-test","environment_variables":{"foo":"bar"},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"deleting","registry_namespace_id":"18d75abb-6a3e-453a-80de-c4766f369616","error_message":null,"registry_endpoint":"rg.fr-par.scw.cloud/funcscwtfenvtestptls4jg2","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "453"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 08 Mar 2022 19:16:01 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - f8a0b287-07e3-4687-b382-cd5916c39582
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.8; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/90c2b969-a666-48e7-81ca-23cbf9daad60
    method: DELETE
  response:
    body: '{"message":"Namespace was not found"}'
    headers:
      Content-Length:
      - "37"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 08 Mar 2022 19:16:01 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - a5190fdd-b262-4962-be83-2a1310aea3c4
    status: 404 Not Found
    code: 404
    duration: ""

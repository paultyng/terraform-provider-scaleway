---
version: 1
interactions:
- request:
    body: '{"name":"tf-env-test","environment_variables":{"test":"test"},"project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","description":null,"secret_environment_variables":null}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.8; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces
    method: POST
  response:
    body: '{"id":"272e4fd1-0025-447e-ad1b-71a3498a6dd0","name":"tf-env-test","environment_variables":{"test":"test"},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"pending","registry_namespace_id":"","error_message":null,"registry_endpoint":"","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "374"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 08 Mar 2022 19:27:09 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - b4b336f3-1407-4457-9153-3fe64d0f3d54
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.8; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/272e4fd1-0025-447e-ad1b-71a3498a6dd0
    method: GET
  response:
    body: '{"id":"272e4fd1-0025-447e-ad1b-71a3498a6dd0","name":"tf-env-test","environment_variables":{"test":"test"},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"pending","registry_namespace_id":"","error_message":null,"registry_endpoint":"","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "374"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 08 Mar 2022 19:27:09 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 788c8377-d18d-41d5-bafc-0fd7fc309858
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.8; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/272e4fd1-0025-447e-ad1b-71a3498a6dd0
    method: GET
  response:
    body: '{"id":"272e4fd1-0025-447e-ad1b-71a3498a6dd0","name":"tf-env-test","environment_variables":{"test":"test"},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"ready","registry_namespace_id":"b2b253d1-fc47-413c-9624-6fbe6bf03de0","error_message":null,"registry_endpoint":"rg.fr-par.scw.cloud/funcscwtfenvtest8dw4eca7","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "452"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 08 Mar 2022 19:27:14 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 11f6e6cf-e7ae-4794-baa4-d7ae3057171c
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.8; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/272e4fd1-0025-447e-ad1b-71a3498a6dd0
    method: GET
  response:
    body: '{"message":"error while authenticating, please retry later"}'
    headers:
      Content-Length:
      - "60"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 08 Mar 2022 19:27:29 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - d69a370f-9fbf-4fb0-9aa5-da43a92abcb7
    status: 503 Service Unavailable
    code: 503
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.8; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/272e4fd1-0025-447e-ad1b-71a3498a6dd0
    method: GET
  response:
    body: '{"message":"error while authenticating, please retry later"}'
    headers:
      Content-Length:
      - "60"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 08 Mar 2022 19:27:46 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - d2befdaa-623e-40ec-9375-b06ebcdebe21
    status: 503 Service Unavailable
    code: 503
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.8; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/272e4fd1-0025-447e-ad1b-71a3498a6dd0
    method: GET
  response:
    body: '{"id":"272e4fd1-0025-447e-ad1b-71a3498a6dd0","name":"tf-env-test","environment_variables":{"test":"test"},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"ready","registry_namespace_id":"b2b253d1-fc47-413c-9624-6fbe6bf03de0","error_message":null,"registry_endpoint":"rg.fr-par.scw.cloud/funcscwtfenvtest8dw4eca7","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "452"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 08 Mar 2022 19:27:50 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 550d4eb4-794e-45e9-8424-0e475e47f35c
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.8; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/272e4fd1-0025-447e-ad1b-71a3498a6dd0
    method: GET
  response:
    body: '{"id":"272e4fd1-0025-447e-ad1b-71a3498a6dd0","name":"tf-env-test","environment_variables":{"test":"test"},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"ready","registry_namespace_id":"b2b253d1-fc47-413c-9624-6fbe6bf03de0","error_message":null,"registry_endpoint":"rg.fr-par.scw.cloud/funcscwtfenvtest8dw4eca7","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "452"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 08 Mar 2022 19:27:51 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 629ea0f1-87b6-4894-9f97-3de01c96f238
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.8; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/272e4fd1-0025-447e-ad1b-71a3498a6dd0
    method: GET
  response:
    body: '{"id":"272e4fd1-0025-447e-ad1b-71a3498a6dd0","name":"tf-env-test","environment_variables":{"test":"test"},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"ready","registry_namespace_id":"b2b253d1-fc47-413c-9624-6fbe6bf03de0","error_message":null,"registry_endpoint":"rg.fr-par.scw.cloud/funcscwtfenvtest8dw4eca7","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "452"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 08 Mar 2022 19:27:51 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - da9e5c23-d529-4b42-a2d2-8d0e4298db37
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.8; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/272e4fd1-0025-447e-ad1b-71a3498a6dd0
    method: GET
  response:
    body: '{"id":"272e4fd1-0025-447e-ad1b-71a3498a6dd0","name":"tf-env-test","environment_variables":{"test":"test"},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"ready","registry_namespace_id":"b2b253d1-fc47-413c-9624-6fbe6bf03de0","error_message":null,"registry_endpoint":"rg.fr-par.scw.cloud/funcscwtfenvtest8dw4eca7","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "452"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 08 Mar 2022 19:27:51 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - e54e4982-4b81-4619-a613-3fc46753d468
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"environment_variables":{"foo":"bar"},"description":null,"secret_environment_variables":null}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.8; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/272e4fd1-0025-447e-ad1b-71a3498a6dd0
    method: PATCH
  response:
    body: '{"id":"272e4fd1-0025-447e-ad1b-71a3498a6dd0","name":"tf-env-test","environment_variables":{"foo":"bar"},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"ready","registry_namespace_id":"b2b253d1-fc47-413c-9624-6fbe6bf03de0","error_message":null,"registry_endpoint":"rg.fr-par.scw.cloud/funcscwtfenvtest8dw4eca7","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "450"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 08 Mar 2022 19:28:03 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - f8f261a4-7255-43ba-a155-1a53b4e6dd37
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.8; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/272e4fd1-0025-447e-ad1b-71a3498a6dd0
    method: GET
  response:
    body: '{"id":"272e4fd1-0025-447e-ad1b-71a3498a6dd0","name":"tf-env-test","environment_variables":{"foo":"bar"},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"ready","registry_namespace_id":"b2b253d1-fc47-413c-9624-6fbe6bf03de0","error_message":null,"registry_endpoint":"rg.fr-par.scw.cloud/funcscwtfenvtest8dw4eca7","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "450"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 08 Mar 2022 19:28:03 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - f9f0ccb0-f7c8-4d23-af3a-2900fc9ef6bd
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.8; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/272e4fd1-0025-447e-ad1b-71a3498a6dd0
    method: GET
  response:
    body: '{"id":"272e4fd1-0025-447e-ad1b-71a3498a6dd0","name":"tf-env-test","environment_variables":{"foo":"bar"},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"ready","registry_namespace_id":"b2b253d1-fc47-413c-9624-6fbe6bf03de0","error_message":null,"registry_endpoint":"rg.fr-par.scw.cloud/funcscwtfenvtest8dw4eca7","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "450"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 08 Mar 2022 19:28:03 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 69fb35d4-0408-4f1e-9c3c-601ffbe2f60c
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.8; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/272e4fd1-0025-447e-ad1b-71a3498a6dd0
    method: GET
  response:
    body: '{"id":"272e4fd1-0025-447e-ad1b-71a3498a6dd0","name":"tf-env-test","environment_variables":{"foo":"bar"},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"ready","registry_namespace_id":"b2b253d1-fc47-413c-9624-6fbe6bf03de0","error_message":null,"registry_endpoint":"rg.fr-par.scw.cloud/funcscwtfenvtest8dw4eca7","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "450"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 08 Mar 2022 19:28:03 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 528c38a9-80ec-40ad-9346-f74e3efda500
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.8; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/272e4fd1-0025-447e-ad1b-71a3498a6dd0
    method: GET
  response:
    body: '{"id":"272e4fd1-0025-447e-ad1b-71a3498a6dd0","name":"tf-env-test","environment_variables":{"foo":"bar"},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"ready","registry_namespace_id":"b2b253d1-fc47-413c-9624-6fbe6bf03de0","error_message":null,"registry_endpoint":"rg.fr-par.scw.cloud/funcscwtfenvtest8dw4eca7","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "450"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 08 Mar 2022 19:28:04 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - b6b8baeb-36d1-4474-aac5-c0b3e100a379
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.8; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/272e4fd1-0025-447e-ad1b-71a3498a6dd0
    method: DELETE
  response:
    body: '{"id":"272e4fd1-0025-447e-ad1b-71a3498a6dd0","name":"tf-env-test","environment_variables":{"foo":"bar"},"organization_id":"951df375-e094-4d26-97c1-ba548eeb9c42","project_id":"951df375-e094-4d26-97c1-ba548eeb9c42","status":"deleting","registry_namespace_id":"b2b253d1-fc47-413c-9624-6fbe6bf03de0","error_message":null,"registry_endpoint":"rg.fr-par.scw.cloud/funcscwtfenvtest8dw4eca7","description":"","secret_environment_variables":[],"region":"fr-par"}'
    headers:
      Content-Length:
      - "453"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 08 Mar 2022 19:28:04 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 2cd2cbee-560b-4ad6-8611-187bb460ae3a
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.17.8; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/functions/v1beta1/regions/fr-par/namespaces/272e4fd1-0025-447e-ad1b-71a3498a6dd0
    method: DELETE
  response:
    body: '{"message":"Namespace was not found"}'
    headers:
      Content-Length:
      - "37"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Tue, 08 Mar 2022 19:28:04 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 67288638-60c2-4f11-9568-fcf40cddb8bf
    status: 404 Not Found
    code: 404
    duration: ""

---
version: 1
interactions:
- request:
    body: '{"name":"tf_tests_app_basic","organization_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","description":""}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://agw.stg.fr-par-2.internal.scaleway.com/iam/v1alpha1/applications
    method: POST
  response:
    body: '{"id":"8f687343-c8f6-449e-a3a3-32adc5b85092","name":"tf_tests_app_basic","description":"","created_at":"2022-07-06T14:24:37.324176Z","updated_at":"2022-07-06T14:24:37.324176Z","organization_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"nb_api_keys":0}'
    headers:
      Content-Length:
      - "265"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:24:37 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 05557bc6-1055-44c0-bcdf-c0e9f3dfda2f
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://agw.stg.fr-par-2.internal.scaleway.com/iam/v1alpha1/applications/8f687343-c8f6-449e-a3a3-32adc5b85092
    method: GET
  response:
    body: '{"id":"8f687343-c8f6-449e-a3a3-32adc5b85092","name":"tf_tests_app_basic","description":"","created_at":"2022-07-06T14:24:37.324176Z","updated_at":"2022-07-06T14:24:37.324176Z","organization_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"nb_api_keys":0}'
    headers:
      Content-Length:
      - "265"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:24:37 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - cdd53ab1-f9c8-456a-aa10-16c047dd2471
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"application_id":"8f687343-c8f6-449e-a3a3-32adc5b85092","expires_at":null,"default_project_id":null,"description":"a
      description"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://agw.stg.fr-par-2.internal.scaleway.com/iam/v1alpha1/api-keys
    method: POST
  response:
    body: '{"access_key":"SCW7S2PM4B8HDBQNKR4W","secret_key":"192cd5f8-a4a2-44d2-9f48-aaa1180fb99f","description":"a
      description","created_at":"2022-07-06T14:24:37.488953Z","updated_at":"2022-07-06T14:24:37.488953Z","expires_at":null,"default_project_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"creation_ip":"","application_id":"8f687343-c8f6-449e-a3a3-32adc5b85092"}'
    headers:
      Content-Length:
      - "372"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:24:37 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - a25eff9a-4935-4a5d-a4b3-33c99933a710
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://agw.stg.fr-par-2.internal.scaleway.com/iam/v1alpha1/api-keys/SCW7S2PM4B8HDBQNKR4W
    method: GET
  response:
    body: '{"access_key":"SCW7S2PM4B8HDBQNKR4W","secret_key":null,"description":"a
      description","created_at":"2022-07-06T14:24:37.488953Z","updated_at":"2022-07-06T14:24:37.488953Z","expires_at":null,"default_project_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"creation_ip":"","application_id":"8f687343-c8f6-449e-a3a3-32adc5b85092"}'
    headers:
      Content-Length:
      - "338"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:24:37 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 8d485648-8156-4340-858d-21c9061d672b
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://agw.stg.fr-par-2.internal.scaleway.com/iam/v1alpha1/api-keys/SCW7S2PM4B8HDBQNKR4W
    method: GET
  response:
    body: '{"access_key":"SCW7S2PM4B8HDBQNKR4W","secret_key":null,"description":"a
      description","created_at":"2022-07-06T14:24:37.488953Z","updated_at":"2022-07-06T14:24:37.488953Z","expires_at":null,"default_project_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"creation_ip":"","application_id":"8f687343-c8f6-449e-a3a3-32adc5b85092"}'
    headers:
      Content-Length:
      - "338"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:24:37 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - ca010f4b-bbc4-4d3e-a782-7a0ca8e03e86
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://agw.stg.fr-par-2.internal.scaleway.com/iam/v1alpha1/applications/8f687343-c8f6-449e-a3a3-32adc5b85092
    method: GET
  response:
    body: '{"id":"8f687343-c8f6-449e-a3a3-32adc5b85092","name":"tf_tests_app_basic","description":"","created_at":"2022-07-06T14:24:37.324176Z","updated_at":"2022-07-06T14:24:37.324176Z","organization_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"nb_api_keys":1}'
    headers:
      Content-Length:
      - "265"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:24:38 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 1980909e-dbff-445d-8c2a-f07d6db61332
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://agw.stg.fr-par-2.internal.scaleway.com/iam/v1alpha1/api-keys/SCW7S2PM4B8HDBQNKR4W
    method: GET
  response:
    body: '{"access_key":"SCW7S2PM4B8HDBQNKR4W","secret_key":null,"description":"a
      description","created_at":"2022-07-06T14:24:37.488953Z","updated_at":"2022-07-06T14:24:37.488953Z","expires_at":null,"default_project_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"creation_ip":"","application_id":"8f687343-c8f6-449e-a3a3-32adc5b85092"}'
    headers:
      Content-Length:
      - "338"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:24:38 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 2f5017db-f195-4153-9c8a-69146ae3809c
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://agw.stg.fr-par-2.internal.scaleway.com/iam/v1alpha1/applications/8f687343-c8f6-449e-a3a3-32adc5b85092
    method: GET
  response:
    body: '{"id":"8f687343-c8f6-449e-a3a3-32adc5b85092","name":"tf_tests_app_basic","description":"","created_at":"2022-07-06T14:24:37.324176Z","updated_at":"2022-07-06T14:24:37.324176Z","organization_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"nb_api_keys":1}'
    headers:
      Content-Length:
      - "265"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:24:38 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - fe8873a8-d4a2-4aee-8ae1-93c3c93a44c4
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://agw.stg.fr-par-2.internal.scaleway.com/iam/v1alpha1/api-keys/SCW7S2PM4B8HDBQNKR4W
    method: GET
  response:
    body: '{"access_key":"SCW7S2PM4B8HDBQNKR4W","secret_key":null,"description":"a
      description","created_at":"2022-07-06T14:24:37.488953Z","updated_at":"2022-07-06T14:24:37.488953Z","expires_at":null,"default_project_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"creation_ip":"","application_id":"8f687343-c8f6-449e-a3a3-32adc5b85092"}'
    headers:
      Content-Length:
      - "338"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:24:38 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - bac260e4-db08-4f04-9dc9-db8ec628ddb7
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"default_project_id":null,"description":"another description"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://agw.stg.fr-par-2.internal.scaleway.com/iam/v1alpha1/api-keys/SCW7S2PM4B8HDBQNKR4W
    method: PATCH
  response:
    body: '{"access_key":"SCW7S2PM4B8HDBQNKR4W","secret_key":null,"description":"another
      description","created_at":"2022-07-06T14:24:37.488953Z","updated_at":"2022-07-06T14:24:38.861032Z","expires_at":null,"default_project_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"creation_ip":"","application_id":"8f687343-c8f6-449e-a3a3-32adc5b85092"}'
    headers:
      Content-Length:
      - "344"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:24:38 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 1d08f399-8b2f-4b71-8d2e-63520485b083
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://agw.stg.fr-par-2.internal.scaleway.com/iam/v1alpha1/api-keys/SCW7S2PM4B8HDBQNKR4W
    method: GET
  response:
    body: '{"access_key":"SCW7S2PM4B8HDBQNKR4W","secret_key":null,"description":"another
      description","created_at":"2022-07-06T14:24:37.488953Z","updated_at":"2022-07-06T14:24:38.861032Z","expires_at":null,"default_project_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"creation_ip":"","application_id":"8f687343-c8f6-449e-a3a3-32adc5b85092"}'
    headers:
      Content-Length:
      - "344"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:24:38 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 86d4978a-c43b-4388-8071-a3653a4f899b
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://agw.stg.fr-par-2.internal.scaleway.com/iam/v1alpha1/applications/8f687343-c8f6-449e-a3a3-32adc5b85092
    method: GET
  response:
    body: '{"id":"8f687343-c8f6-449e-a3a3-32adc5b85092","name":"tf_tests_app_basic","description":"","created_at":"2022-07-06T14:24:37.324176Z","updated_at":"2022-07-06T14:24:37.324176Z","organization_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"nb_api_keys":1}'
    headers:
      Content-Length:
      - "265"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:24:39 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - d8f3856d-2fbe-4cbb-8088-4c6ce6b6f5d9
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://agw.stg.fr-par-2.internal.scaleway.com/iam/v1alpha1/applications/8f687343-c8f6-449e-a3a3-32adc5b85092
    method: GET
  response:
    body: '{"id":"8f687343-c8f6-449e-a3a3-32adc5b85092","name":"tf_tests_app_basic","description":"","created_at":"2022-07-06T14:24:37.324176Z","updated_at":"2022-07-06T14:24:37.324176Z","organization_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"nb_api_keys":1}'
    headers:
      Content-Length:
      - "265"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:24:39 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - e77f4f21-24e7-4260-b907-0be044c04591
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://agw.stg.fr-par-2.internal.scaleway.com/iam/v1alpha1/api-keys/SCW7S2PM4B8HDBQNKR4W
    method: GET
  response:
    body: '{"access_key":"SCW7S2PM4B8HDBQNKR4W","secret_key":null,"description":"another
      description","created_at":"2022-07-06T14:24:37.488953Z","updated_at":"2022-07-06T14:24:38.861032Z","expires_at":null,"default_project_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"creation_ip":"","application_id":"8f687343-c8f6-449e-a3a3-32adc5b85092"}'
    headers:
      Content-Length:
      - "344"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:24:39 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 33244a6e-3b5f-4dac-9064-6b3c50ea4543
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://agw.stg.fr-par-2.internal.scaleway.com/iam/v1alpha1/api-keys/SCW7S2PM4B8HDBQNKR4W
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:24:39 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 25eb4710-70bf-45b0-a399-f6221f14a37b
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://agw.stg.fr-par-2.internal.scaleway.com/iam/v1alpha1/applications/8f687343-c8f6-449e-a3a3-32adc5b85092
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:24:40 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 565db7cc-a2ae-49f1-98f0-e672eb64ad57
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://agw.stg.fr-par-2.internal.scaleway.com/iam/v1alpha1/api-keys/SCW7S2PM4B8HDBQNKR4W
    method: GET
  response:
    body: '{"message":"resource is not found","resource":"access_key","resource_id":"SCW7S2PM4B8HDBQNKR4W","type":"not_found"}'
    headers:
      Content-Length:
      - "115"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 06 Jul 2022 14:24:40 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - fa8f74c6-a9d3-4acd-b341-0a6848dd03d8
    status: 404 Not Found
    code: 404
    duration: ""

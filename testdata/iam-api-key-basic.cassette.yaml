---
version: 1
interactions:
- request:
    body: '{"name":"tf_tests_app_basic","organization_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","description":""}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications
    method: POST
  response:
    body: '{"id":"2676ae22-a11b-4635-a725-71cfad4c9a50","name":"tf_tests_app_basic","description":"","created_at":"2022-06-29T09:32:50.043119Z","updated_at":"2022-06-29T09:32:50.043119Z","organization_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"nb_api_keys":0}'
    headers:
      Content-Length:
      - "265"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 29 Jun 2022 09:32:50 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 49d57c3d-1e09-4d49-a13a-0f6f7439b810
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications/2676ae22-a11b-4635-a725-71cfad4c9a50
    method: GET
  response:
    body: '{"id":"2676ae22-a11b-4635-a725-71cfad4c9a50","name":"tf_tests_app_basic","description":"","created_at":"2022-06-29T09:32:50.043119Z","updated_at":"2022-06-29T09:32:50.043119Z","organization_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"nb_api_keys":0}'
    headers:
      Content-Length:
      - "265"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 29 Jun 2022 09:32:50 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - e5e6f45f-c9f2-4625-a1f9-5c49faea97e8
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"application_id":"2676ae22-a11b-4635-a725-71cfad4c9a50","expires_at":null,"default_project_id":null,"description":"a
      description"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys
    method: POST
  response:
    body: '{"access_key":"SCW5SWE6G1H3Z85TN582","secret_key":"4e4a505c-2d33-45b7-869f-916ce0b3c51f","description":"a
      description","created_at":"2022-06-29T09:32:50.233916Z","updated_at":"2022-06-29T09:32:50.233916Z","expired_at":null,"default_project_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"creation_ip":"","application_id":"2676ae22-a11b-4635-a725-71cfad4c9a50"}'
    headers:
      Content-Length:
      - "372"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 29 Jun 2022 09:32:50 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 675306d7-fb18-45f8-a7c1-7a05fdccd719
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCW5SWE6G1H3Z85TN582
    method: GET
  response:
    body: '{"access_key":"SCW5SWE6G1H3Z85TN582","secret_key":null,"description":"a
      description","created_at":"2022-06-29T09:32:50.233916Z","updated_at":"2022-06-29T09:32:50.233916Z","expired_at":null,"default_project_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"creation_ip":"","application_id":"2676ae22-a11b-4635-a725-71cfad4c9a50"}'
    headers:
      Content-Length:
      - "338"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 29 Jun 2022 09:32:50 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - e6c20b0d-7c69-4d72-b9d2-985c20193be1
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCW5SWE6G1H3Z85TN582
    method: GET
  response:
    body: '{"access_key":"SCW5SWE6G1H3Z85TN582","secret_key":null,"description":"a
      description","created_at":"2022-06-29T09:32:50.233916Z","updated_at":"2022-06-29T09:32:50.233916Z","expired_at":null,"default_project_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"creation_ip":"","application_id":"2676ae22-a11b-4635-a725-71cfad4c9a50"}'
    headers:
      Content-Length:
      - "338"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 29 Jun 2022 09:32:50 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 9c609d59-7014-4983-899d-b9ba010bfbce
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications/2676ae22-a11b-4635-a725-71cfad4c9a50
    method: GET
  response:
    body: '{"id":"2676ae22-a11b-4635-a725-71cfad4c9a50","name":"tf_tests_app_basic","description":"","created_at":"2022-06-29T09:32:50.043119Z","updated_at":"2022-06-29T09:32:50.043119Z","organization_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"nb_api_keys":1}'
    headers:
      Content-Length:
      - "265"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 29 Jun 2022 09:32:50 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 6328ac9b-b7df-49ce-be89-e34ef028299c
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCW5SWE6G1H3Z85TN582
    method: GET
  response:
    body: '{"access_key":"SCW5SWE6G1H3Z85TN582","secret_key":null,"description":"a
      description","created_at":"2022-06-29T09:32:50.233916Z","updated_at":"2022-06-29T09:32:50.233916Z","expired_at":null,"default_project_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"creation_ip":"","application_id":"2676ae22-a11b-4635-a725-71cfad4c9a50"}'
    headers:
      Content-Length:
      - "338"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 29 Jun 2022 09:32:50 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - ebb60c6e-9cb0-4703-83d4-2be410a80d8a
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications/2676ae22-a11b-4635-a725-71cfad4c9a50
    method: GET
  response:
    body: '{"id":"2676ae22-a11b-4635-a725-71cfad4c9a50","name":"tf_tests_app_basic","description":"","created_at":"2022-06-29T09:32:50.043119Z","updated_at":"2022-06-29T09:32:50.043119Z","organization_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"nb_api_keys":1}'
    headers:
      Content-Length:
      - "265"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 29 Jun 2022 09:32:51 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 1290b5a9-d2dc-4f67-a5f9-fa8d6a0ce1c3
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCW5SWE6G1H3Z85TN582
    method: GET
  response:
    body: '{"access_key":"SCW5SWE6G1H3Z85TN582","secret_key":null,"description":"a
      description","created_at":"2022-06-29T09:32:50.233916Z","updated_at":"2022-06-29T09:32:50.233916Z","expired_at":null,"default_project_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"creation_ip":"","application_id":"2676ae22-a11b-4635-a725-71cfad4c9a50"}'
    headers:
      Content-Length:
      - "338"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 29 Jun 2022 09:32:51 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 9505e6d7-acc5-47b8-8efa-1835a25a772e
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"default_project_id":null,"description":"another description"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCW5SWE6G1H3Z85TN582
    method: PATCH
  response:
    body: '{"access_key":"SCW5SWE6G1H3Z85TN582","secret_key":null,"description":"another
      description","created_at":"2022-06-29T09:32:50.233916Z","updated_at":"2022-06-29T09:32:51.464743Z","expired_at":null,"default_project_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"creation_ip":"","application_id":"2676ae22-a11b-4635-a725-71cfad4c9a50"}'
    headers:
      Content-Length:
      - "344"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 29 Jun 2022 09:32:51 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - fa8df0c7-7c87-49a7-8121-ad46e8beacc3
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCW5SWE6G1H3Z85TN582
    method: GET
  response:
    body: '{"access_key":"SCW5SWE6G1H3Z85TN582","secret_key":null,"description":"another
      description","created_at":"2022-06-29T09:32:50.233916Z","updated_at":"2022-06-29T09:32:51.464743Z","expired_at":null,"default_project_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"creation_ip":"","application_id":"2676ae22-a11b-4635-a725-71cfad4c9a50"}'
    headers:
      Content-Length:
      - "344"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 29 Jun 2022 09:32:51 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 02e4dd82-75c7-4070-8910-21aee2bae935
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications/2676ae22-a11b-4635-a725-71cfad4c9a50
    method: GET
  response:
    body: '{"id":"2676ae22-a11b-4635-a725-71cfad4c9a50","name":"tf_tests_app_basic","description":"","created_at":"2022-06-29T09:32:50.043119Z","updated_at":"2022-06-29T09:32:50.043119Z","organization_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"nb_api_keys":1}'
    headers:
      Content-Length:
      - "265"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 29 Jun 2022 09:32:51 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 855852e8-f897-4b09-b455-91b14dce46d4
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications/2676ae22-a11b-4635-a725-71cfad4c9a50
    method: GET
  response:
    body: '{"id":"2676ae22-a11b-4635-a725-71cfad4c9a50","name":"tf_tests_app_basic","description":"","created_at":"2022-06-29T09:32:50.043119Z","updated_at":"2022-06-29T09:32:50.043119Z","organization_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"nb_api_keys":1}'
    headers:
      Content-Length:
      - "265"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 29 Jun 2022 09:32:51 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 0675ce87-00fd-47ca-b107-1370b5e91428
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCW5SWE6G1H3Z85TN582
    method: GET
  response:
    body: '{"access_key":"SCW5SWE6G1H3Z85TN582","secret_key":null,"description":"another
      description","created_at":"2022-06-29T09:32:50.233916Z","updated_at":"2022-06-29T09:32:51.464743Z","expired_at":null,"default_project_id":"012eb4a7-a183-4fed-89fa-6ae2013bcf60","editable":true,"creation_ip":"","application_id":"2676ae22-a11b-4635-a725-71cfad4c9a50"}'
    headers:
      Content-Length:
      - "344"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 29 Jun 2022 09:32:51 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 0e94b5fc-1597-424c-8afc-bcf755598c0e
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCW5SWE6G1H3Z85TN582
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 29 Jun 2022 09:32:52 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 18e11053-64ee-4073-ad09-a723462a64f0
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/applications/2676ae22-a11b-4635-a725-71cfad4c9a50
    method: DELETE
  response:
    body: ""
    headers:
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 29 Jun 2022 09:32:52 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - d0a28d55-34e4-4a6b-bc66-df0428a96bfa
    status: 204 No Content
    code: 204
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.18.3; darwin; amd64) terraform-provider/develop
        terraform/terraform-tests
    url: https://api.scaleway.com/iam/v1alpha1/api-keys/SCW5SWE6G1H3Z85TN582
    method: GET
  response:
    body: '{"message":"resource is not found","resource":"access_key","resource_id":"SCW5SWE6G1H3Z85TN582","type":"not_found"}'
    headers:
      Content-Length:
      - "115"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Wed, 29 Jun 2022 09:32:52 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 220406cc-41b6-49f2-b119-99ca77733db3
    status: 404 Not Found
    code: 404
    duration: ""
